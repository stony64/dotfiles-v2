======================================================================
CODE REVIEW DUMP - Generated: 01/06/2026 02:24:48
STRUCTURE: DOCS -> CI/CD -> CONFIG -> LIBS -> MAIN -> TESTS
======================================================================
File Path                                               |    Lines
----------------------------------------------------------------------
docs\docs_styleguide_bash.md                            |       85
docs\docs_styleguide_general.md                         |       69
docs\install.md                                         |      105
README.md                                               |       99
.github\release.yml                                     |       75
.github\workflows\lint-markdown.yaml                    |       39
.editorconfig                                           |       67
.markdownlint-cli2.jsonc                                |       33
.markdownlint.jsonc                                     |       70
lib\libcolors.sh                                        |       50
lib\libconstants.sh                                     |       81
lib\libchecks.sh                                        |      124
lib\libcommon.sh                                        |       81
lib\libengine.sh                                        |      146
lib\libplatform_linux.sh                                |       61
lib\libplatform_windows.sh                              |       80
dotfilesctl.sh                                          |      269
test_suite.sh                                           |      158
.gitattributes                                          |       73
.gitignore                                              |       90
config\mc\ini                                           |      148
config\micro\bindings.json                              |       25
config\micro\settings.json                              |        9
home\.bashaliases                                       |       76
home\.bashenv                                           |       97
home\.bashexports                                       |       61
home\.bashfunctions                                     |      141
home\.bashprompt                                        |       82
home\.bashrc                                            |      103
home\.dircolors                                         |      131
home\.nanorc                                            |       72
----------------------------------------------------------------------
TOTAL (31 Files)                                        |     2800
======================================================================



#################################################################
### BEGIN FILE: docs\docs_styleguide_bash.md
#################################################################

# Bash Styleguide & Coding Standards (v1.2.1)

Dieses Dokument definiert die verbindlichen Standards fÃ¼r die Entwicklung und Erweiterung des Dotfiles-Projekts. Ziel ist maximale Lesbarkeit, Cross-Plattform-KompatibilitÃ¤t und Robustheit.

---

## 1. Allgemeine Prinzipien

- **Bash Version:** Alle Skripte mÃ¼ssen kompatibel zu Bash >= 4.0 sein.
- **Sicherheit:** Jedes Skript beginnt mit `set -euo pipefail`.
    - `-e`: Abbruch bei Fehlern.
    - `-u`: Fehler bei ungesetzten Variablen.
    - `-o pipefail`: Erkennt Fehler innerhalb von Pipes.
- **Plattform-Agnostik:** Nutze immer die Variable `$PLATFORM` (linux/windows) fÃ¼r OS-spezifische Pfade oder Befehle.

## 2. Datei-Struktur & Header

Jedes Skript muss einen standardisierten Header im "Box-Design" besitzen.

```bash
#!/usr/bin/env bash
#
# FILE: path/to/script.sh
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# KURZE BESCHREIBUNG IN GROSSBUCHSTABEN
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:       Detaillierte ErlÃ¤uterung der Aufgabe.
# Standards:   set -euo pipefail, Bash >= 4.0.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

```

## 3. Namenskonventionen

- **Variablen (Lokal):** `snake_case` (z. B. `local target_path`).
- **Variablen (Global/Konstanten):** `SCREAMING_SNAKE_CASE` (z. B. `readonly LOG_FILE`).
- **Funktionen:** `snake_case` (z. B. `create_symlink()`).
- **Bibliotheken:** PrÃ¤fixe nutzen (z. B. `ui_print_error` in `libcolors.sh`).

## 4. Funktions-Dokumentation (Javadoc-Stil)

Jede Funktion muss vor ihrer Definition dokumentiert werden. Dies ermÃ¶glicht eine automatisierte Dokumentationserstellung und erhÃ¶ht die Wartbarkeit.

```bash
# @description Kurze Beschreibung der Funktion.
# @param $1 Typ/Name des ersten Parameters.
# @stdout Beschreibung der Standardausgabe.
# @return Exit-Code (z. B. 0 bei Erfolg, 1 bei Fehler).
function_name() {
    local param_one="${1:-default}"
    # Logik ...
}

```

## 5. UI & Ausgaben

Nutze fÃ¼r alle Ausgaben die vordefinierten Farbcodes und Symbole aus `libcolors.sh` und `libconstants.sh`.

- **Erfolg:** `${COL_GREEN}${SYMBOL_OK}${COL_RESET}`
- **Fehler:** `${COL_RED}${SYMBOL_ERROR}${COL_RESET}` (Ausgabe immer auf `stderr` via `>&2`).
- **Pfade:** Pfade in Ausgaben immer in AnfÃ¼hrungszeichen setzen, um Leerzeichen-Probleme zu visualisieren.

## 6. Best Practices fÃ¼r Symlinks (Cross-Plattform)

Da das Projekt native Windows-Symlinks unterstÃ¼tzt, sind folgende Regeln strikt einzuhalten:

1. **Pfad-AuflÃ¶sung:** Nutze `$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)`, um das Skript-Verzeichnis zu ermitteln.
2. **Absolute Pfade:** Symlinks sollten immer mit absoluten Pfaden erstellt werden, um Plattform-Unterschiede bei relativen Links zu vermeiden.
3. **Existenz-PrÃ¼fung:** PrÃ¼fe vor dem Linken immer:

- Ist es ein Link? `[[ -L "$path" ]]`
- Ist es eine Datei? `[[ -f "$path" ]]`
- Ist es ein Verzeichnis? `[[ -d "$path" ]]`

## 7. Shellcheck

Jedes Skript muss `shellcheck`-clean sein.

- Lokale Ausnahmen werden mit `# shellcheck disable=SCxxxx` direkt Ã¼ber der Zeile begrÃ¼ndet.
- Dynamisches Sourcing wird mit `# shellcheck disable=SC1090/SC1091` markiert.

---

*Dieser Guide ist Teil des Dotfiles-Projekts v1.2.1. Ã„nderungen bedÃ¼rfen einer Anpassung der Versionsnummer.*


### END OF FILE: docs\docs_styleguide_bash.md

#################################################################
### BEGIN FILE: docs\docs_styleguide_general.md
#################################################################

# General Project Styleguide (v1.2.1)

Dieser Guide definiert die projektweiten Standards fÃ¼r Architektur, Dateiorganisation und Dokumentation. Er dient als Grundlage fÃ¼r die Konsistenz des gesamten Dotfiles-Ã–kosystems.

---

## 1. Architektur-Philosophie

Das Projekt folgt drei Kernprinzipien:

1. **ModularitÃ¤t:** Logik wird strikt in Bibliotheken (`lib/`) und ausfÃ¼hrbare Skripte getrennt. Kein Skript sollte Logik enthalten, die auch an anderer Stelle nÃ¼tzlich sein kÃ¶nnte.
2. **Plattform-Abstraktion:** Betriebssystem-Unterschiede werden so frÃ¼h wie mÃ¶glich abgefangen (in der `libplatform_*.sh`) und in abstrakte Befehle Ã¼bersetzt.
3. **Zustandslosigkeit & Idempotenz:** Jede Operation (Installation, LÃ¶schung) muss beliebig oft hintereinander ausfÃ¼hrbar sein, ohne das System in einen instabilen Zustand zu bringen.

## 2. Verzeichnisstruktur

Die Struktur ist flach und zweckorientiert:

- `/home`: EnthÃ¤lt die Rohdateien, die als Symlinks in das `$HOME` des Nutzers gespiegelt werden.
- `/lib`: Das Gehirn des Projekts. Nur Funktionen, keine direkten Befehle.
- `/docs`: Markdown-Dokumentation fÃ¼r Menschen.
- Root (`/`): Nur die Haupt-Entrypoints (`dotfilesctl.sh`, `test_suite.sh`) und Projektmetadaten.

## 3. Dokumentations-Standards (Markdown)

Alle `.md`-Dateien mÃ¼ssen folgenden Regeln entsprechen:

- **Sprache:** Deutsch (fÃ¼r Kommentare im Code und Anleitungen), Fachbegriffe bleiben Englisch.
- **Hierarchie:** Konsistente Nutzung von Ãœberschriften (`#`, `##`, `###`).
- **Code-BlÃ¶cke:** Immer mit Sprach-Syntax-Highlighting versehen (z. B. \` \` \`bash).
- **Dateipfade:** Pfade werden immer `fett` oder als `Inline-Code` dargestellt.

## 4. Versionierung & Git-Konventionen

### Versionsschema

Wir nutzen Semantic Versioning (SemVer):

- **Major (1.x.x):** Grundlegende ArchitekturÃ¤nderungen.
- **Minor (x.2.x):** Neue Features oder Module (z. B. v1.2.1 Review-Upgrade).
- **Patch (x.x.1):** Bugfixes oder reine DokumentationsÃ¤nderungen.

### Commit-Messages

Commits sollten prÃ¤zise und kategorisiert sein:

- `feat:` Neue Funktionen.
- `fix:` Fehlerbehebungen.
- `docs:` Ã„nderungen an der Dokumentation.
- `refactor:` Code-Optimierung ohne FunktionsÃ¤nderung.

## 5. Cross-Plattform Standards

Um die KompatibilitÃ¤t zwischen Linux und Windows (Git Bash) zu gewÃ¤hrleisten:

- **ZeilenumbrÃ¼che:** Alle Dateien im Repository mÃ¼ssen `LF` (Unix) ZeilenumbrÃ¼che nutzen. Git sollte so konfiguriert sein, dass es diese beim Checkout nicht automatisch in `CRLF` umwandelt (`git config core.autocrlf input`).
- **Pfad-Referenzen:** Nutze ausschlieÃŸlich `/` als Pfadtrennzeichen. Die Engine kÃ¼mmert sich um die Ãœbersetzung fÃ¼r Windows-APIs.
- **Symlink-Policy:** Wir bevorzugen native NTFS-Symlinks gegenÃ¼ber Junctions oder Hardlinks, um die Transparenz fÃ¼r Tools zu wahren.

## 6. QualitÃ¤tssicherung (QA)

Bevor Code in den `main`-Branch Ã¼bernommen wird, muss er:

1. Den `shellcheck` ohne Warnungen bestehen.
2. Die `test_suite.sh` in einer Sandbox erfolgreich durchlaufen.
3. Mit dem `doctor`-Modul auf einem Linux- und einem Windows-System validiert werden.

---
> **Revision:** v1.2.1 | **Stand:** Januar 2026


### END OF FILE: docs\docs_styleguide_general.md

#################################################################
### BEGIN FILE: docs\install.md
#################################################################

# Installationsanleitung (v1.2.1)

Diese Anleitung beschreibt die saubere Einrichtung des Dotfiles-Systems auf Linux und Windows.

## ðŸ“‹ 1. Voraussetzungen

Bevor du beginnst, stelle sicher, dass folgende Anforderungen erfÃ¼llt sind:

### Global

- **Bash:** Version 4.0 oder hÃ¶her erforderlich (`bash --version`).
- **Git:** Erforderlich fÃ¼r Updates und Versionierung.

### Windows (Git Bash / MSYS2)

Das System nutzt native NTFS-Symlinks. Damit dies ohne Administratorrechte funktioniert:

1. **Entwicklermodus aktivieren:** `Einstellungen -> Datenschutz und Sicherheit -> FÃ¼r Entwickler -> Entwicklermodus: EIN`.
2. **Git Bash:** Muss aktuell sein, um MSYS-Pfade korrekt aufzulÃ¶sen.

---

## ðŸ› ï¸ 2. Installation

### Schritt A: Repository klonen

Es wird empfohlen, das Repository in einen versteckten Ordner in deinem Home-Verzeichnis zu klonen:

```bash
git clone [https://github.com/dein-user/dotfiles.git](https://github.com/dein-user/dotfiles.git) ~/.dotfiles
cd ~/.dotfiles

```

### Schritt B: Systemdiagnose (Wichtig!)

FÃ¼hre den integrierten â€žDoctorâ€œ aus, um sicherzustellen, dass dein System bereit fÃ¼r die Symlink-Erstellung ist:

```bash
./dotfilesctl.sh doctor

```

### Schritt C: Installation ausfÃ¼hren

Wenn die Diagnose grÃ¼n ist, kannst du die Installation starten.

**Unter Linux:**
Hier muss explizit der Benutzer angegeben werden (oder `--all-users` als Root):

```bash
./dotfilesctl.sh install --user $(whoami)

```

**Unter Windows:**

```bash
./dotfilesctl.sh install

```

---

## ðŸ§ª 3. Verifizierung

Nach der Installation solltest du prÃ¼fen, ob die Shell-Module korrekt geladen werden:

1. Starte dein Terminal neu oder fÃ¼hre `source ~/.bashrc` aus.
2. PrÃ¼fe den Prompt: Erscheint der Branch-Name, wenn du in ein Git-Repo wechselst?
3. Teste einen Alias: Tippe `ll` oder `..`.
4. Teste den Controller-Alias: Tippe `dctl doctor`.

---

## âš ï¸ 4. ProblemlÃ¶sung (Troubleshooting)

### Fehler: "Operation not permitted" (Windows)

Dies bedeutet, dass Windows das Erstellen von Symlinks blockiert.

- **LÃ¶sung:** Stelle sicher, dass der **Entwicklermodus** (siehe oben) aktiviert ist. Ein Neustart der Git Bash ist danach zwingend erforderlich.

### Fehler: "Bash version too old"

Manche MacOS-Versionen nutzen standardmÃ¤ÃŸig Bash 3.2.

- **LÃ¶sung:** Installiere eine aktuelle Bash via Homebrew (`brew install bash`) und setze sie als Standard-Shell.

### Fehler: Konflikte mit existierenden Dateien

Falls eine `.bashrc` bereits existiert, wird die Engine diese sichern (`.bashrc.bak`), bevor der Symlink erstellt wird. Du kannst deine alten Anpassungen dann manuell in die `~/.bashrc_local` Ã¼bertragen.

---

## ðŸ”„ 5. Deinstallation

MÃ¶chtest du das System sauber entfernen, ohne deine Backups zu verlieren:

```bash
./dotfilesctl.sh uninstall

```

Dieser Befehl entfernt nur die vom System erstellten Symlinks und lÃ¤sst deine `.bak` Dateien unberÃ¼hrt.


### END OF FILE: docs\install.md

#################################################################
### BEGIN FILE: README.md
#################################################################

# Dotfiles Management System (v1.2.1)

![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)
![Bash: >=4.0](https://img.shields.io/badge/Bash-%3E%3D4.0-orange.svg)
![Platform: Linux & Windows](https://img.shields.io/badge/Platform-Linux%20%7C%20Windows-lightgrey.svg)

Ein hochmodulares, plattformÃ¼bergreifendes System zur Verwaltung von Konfigurationsdateien (Dotfiles). Optimiert fÃ¼r maximale Konsistenz zwischen nativen **Linux-Systemen** und **Windows-Umgebungen** (Git Bash / MSYS2).

## ðŸš€ Highlights

- **Plattform-Agnostisch:** Einheitliche Logik fÃ¼r Linux und Windows mit automatischer Erkennung.
- **Native Windows Symlinks:** Nutzt `nativestrict` fÃ¼r echte NTFS-Symlinks (keine Kopien!).
- **Modulare Architektur:** Klare Trennung von Bibliotheken (`lib/`), Engine und User-Konfiguration.
- **Integrierte Diagnose:** Umfangreiche Health-Checks (`dctl doctor`) fÃ¼r AbhÃ¤ngigkeiten und Rechte.
- **Sicher & Robust:** Strenges Error-Handling (`set -euo pipefail`) und idempotente Operationen.

## ðŸ“‚ Projektstruktur

```text
.
â”œâ”€â”€ dotfilesctl.sh        # Zentraler Orchestrator (Main Entry)
â”œâ”€â”€ test_suite.sh         # Automatisierte Test-Umgebung (Sandbox)
â”œâ”€â”€ lib/                  # Kern-Bibliotheken
â”‚   â”œâ”€â”€ libcolors.sh      # UI & Farbcodes
â”‚   â”œâ”€â”€ libplatform_*.sh  # OS-spezifische Abstraktion
â”‚   â””â”€â”€ libengine.sh      # Symlink- & Backup-Logik
â”œâ”€â”€ home/                 # Die eigentlichen Dotfiles (~/.*)
â”‚   â”œâ”€â”€ .bashrc           # Orchestrator der Shell-Konfiguration
â”‚   â”œâ”€â”€ .bashenv          # Pfade & Shell-Optionen
â”‚   â””â”€â”€ .bashfunctions    # Power-User Hilfsfunktionen
â””â”€â”€ docs/                 # Detaillierte Dokumentation

```

## ðŸ›  Installation

### Voraussetzungen

- **Bash >= 4.0**
- **Git**
- **Windows:** Aktivierter "Entwicklermodus" (fÃ¼r native Symlinks ohne Admin-Rechte).

### Schnellstart

1. Repository klonen:

```bash
git clone [https://github.com/dein-user/dotfiles.git](https://github.com/dein-user/dotfiles.git) ~/.dotfiles
cd ~/.dotfiles

```

1. System-Check ausfÃ¼hren:

```bash
./dotfilesctl.sh health

```

1. Installation starten:

```bash
# Auf Linux (fÃ¼r den aktuellen User):
./dotfilesctl.sh install --user $(whoami)

# Auf Windows:
./dotfilesctl.sh install

```

## ðŸ’» Benutzung

Der zentrale Befehl lautet `dotfilesctl.sh` (Alias: `dctl`).

| Befehl | Beschreibung |
| --- | --- |
| `install` | Erstellt Symlinks gemÃ¤ÃŸ Whitelist im Home-Verzeichnis. |
| `uninstall` | Entfernt die Symlinks sicher. |
| `doctor` | FÃ¼hrt eine vollstÃ¤ndige System- und IntegritÃ¤tsdiagnose aus. |
| `update` | Aktualisiert das Repository via Git. |
| `checksymlinks` | Validiert die IntegritÃ¤t bestehender Links. |

### Optionen

- `--dry-run`: Simuliert alle SchreibvorgÃ¤nge (empfohlen vor Erst-Installation).
- `--strict`: Behandelt Warnungen als kritische Fehler.

## ðŸ›¡ QualitÃ¤tssicherung

Das Projekt enthÃ¤lt eine eigene Test-Suite, die alle Operationen in einer isolierten Sandbox (`/tmp`) validiert, ohne dein echtes System zu gefÃ¤hrden:

```bash
./test_suite.sh

```

## ðŸ“„ Lizenz

Dieses Projekt ist unter der MIT-Lizenz lizenziert - siehe [LICENSE](https://www.google.com/search?q=LICENSE) Datei fÃ¼r Details.


### END OF FILE: README.md

#################################################################
### BEGIN FILE: .github\release.yml
#################################################################

# FILE: .github/workflows/release.yml
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# GITHUB ACTION: AUTOMATED RELEASE (v1.2.1)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:       Validiert den Code (Linting & Tests) und erstellt
#              bei erfolgreichem v*-Tag ein GitHub Release.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

name: Create Release

on:
  push:
    tags:
      - 'v*'

jobs:
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # 1. VALIDIERUNG (Quality Gate)
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  test:
    name: Validate Scripts
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: ShellCheck
        uses: ludeeus/action-shellcheck@master
        with:
          # Scannt das Root-Verzeichnis und deine Bibliotheken
          scandir: '.'
          # Nutzt deine .shellcheckrc Konfiguration
          ignore: 'node_modules'

      - name: Run Test Suite
        run: |
          # Setzt AusfÃ¼hrungsrechte fÃ¼r den CI-Lauf
          chmod +x dotfilesctl.sh test_suite.sh lib/*.sh
          # FÃ¼hrt die Sandbox-Tests aus
          ./test_suite.sh

  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # 2. RELEASE-JOB
  # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  release:
    name: Create GitHub Release
    needs: test
    runs-on: ubuntu-latest
    permissions:
      contents: write

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Create Release
        uses: softprops/action-gh-release@v2
        with:
          tag_name: ${{ github.ref_name }}
          name: Release ${{ github.ref_name }}
          body: |
            ## Dotfiles v1.2.1
            Automatisches Release der Plattform-unabhÃ¤ngigen Dotfiles.

            ### Ã„nderungen
            - VollstÃ¤ndige Modularisierung (lib/ Struktur)
            - Native Windows Symlink UnterstÃ¼tzung
            - Integrierte Health-Checks (dctl doctor)
          generate_release_notes: true
          draft: false
          prerelease: false
          # Wir listen hier keine einzelnen Dateien, da das Repo-Zip
          # bereits alles enthÃ¤lt. LICENSE und README sind dort inkludiert.


### END OF FILE: .github\release.yml

#################################################################
### BEGIN FILE: .github\workflows\lint-markdown.yaml
#################################################################

# FILE: .github/workflows/lint-markdown.yml
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# GITHUB ACTION: MARKDOWN LINTING (v1.2.1)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:       Automatische PrÃ¼fung der Dokumentation bei Pushes
#              und Pull Requests auf Basis deiner Linter-Regeln.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

name: Lint Markdown

on:
  push:
    branches: [ main, master ]
    paths:
      - '**/*.md'
      - '.markdownlint*'
      - 'markdownlint-cli2.jsonc'
  pull_request:
    branches: [ main, master ]
    paths:
      - '**/*.md'
      - '.markdownlint*'
      - 'markdownlint-cli2.jsonc'

jobs:
  markdownlint:
    name: Markdown Linting
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Run Markdownlint-cli2
        uses: DavidAnson/markdownlint-cli2-action@v16
        with:
          # Verweist explizit auf deine zentrale Konfigurationsdatei.
          # Die Action erkennt die Globs und Ignores automatisch daraus.
          config: "markdownlint-cli2.jsonc"


### END OF FILE: .github\workflows\lint-markdown.yaml

#################################################################
### BEGIN FILE: .editorconfig
#################################################################

#
# FILE: .editorconfig
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ZENTRALE EDITOR-KONFIGURATION (v1.2.1)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:       Sicherstellung einheitlicher Codierung und Formatierung.
#              Verhindert "Whitespace-Diffs" und CRLF-Konflikte.
# Geltungsbereich: Das gesamte Repository (root=true).
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

root = true

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 1. Globale Standardkonfiguration
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[*]
charset = utf-8
end_of_line = lf                # Unix-Zeilenenden erzwingen (Wichtig fÃ¼r Shell)
insert_final_newline = true     # POSIX-konforme Leerzeile am Ende
trim_trailing_whitespace = true # Entfernt Leerzeichen am Zeilenende
indent_style = space
indent_size = 4
tab_width = 4

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 2. Shell-Skripte & Dotfiles
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Deckt alle Shell-Skripte und die im Projekt genutzten Dotfiles ab.
[*.{sh,bash}]
indent_style = space
indent_size = 4

# Spezifische Erfassung von Bash-Dateien ohne klassische Endung
[{.bash*,.dircolors,.nanorc,.editorconfig,bashrc,bashenv,bashaliases}]
indent_style = space
indent_size = 4

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 3. Dokumentation (Markdown)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[*.md]
max_line_length = off
# Hard-Breaks in Markdown (2 Leerzeichen) dÃ¼rfen nicht gelÃ¶scht werden:
trim_trailing_whitespace = false
indent_style = space
indent_size = 4

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 4. Datenstrukturen (YAML/JSON)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[*.{yml,yaml,json,jsonc}]
indent_style = space
indent_size = 2

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 5. Windows-spezifische Skripte (Optional)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Falls PowerShell oder Batch nativ unter Windows verbleiben mÃ¼ssen:
[*.{bat,ps1}]
end_of_line = crlf

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 6. Build-Systeme
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[{Makefile,makefile}]
indent_style = tab              # Makefiles erfordern zwingend Tabs!
indent_size = 4


### END OF FILE: .editorconfig

#################################################################
### BEGIN FILE: .markdownlint-cli2.jsonc
#################################################################

{
  // FILE: markdownlint-cli2.jsonc
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // KONFIGURATION FÃœR MARKDOWNLINT-CLI2 (v1.2.1)
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // Zweck:       Steuerung des Linting-Prozesses fÃ¼r die Doku.
  // Korrektur:   Entfernung unzulÃ¤ssiger Top-Level Eigenschaften.
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  "ignores": [
    "node_modules/**",
    ".git/**",
    "**/_exports/**",
    "**/*.bak",
    "**/*_local.md",
    "**/local_*.md",
    "**/test_sandbox/**"
  ],

  "globs": [
    "**/*.md"
  ],

  "config": {
    "extends": "./.markdownlint.jsonc",
    // Falls HTML-Tags innerhalb von MD-Regeln (wie MD033) Probleme machen,
    // wird dies direkt in der .markdownlint.jsonc Ã¼ber "MD033": false gelÃ¶st.
    "no-inline-html": false
  },

  "fix": false,
  "noInlineConfig": false
}


### END OF FILE: .markdownlint-cli2.jsonc

#################################################################
### BEGIN FILE: .markdownlint.jsonc
#################################################################

{
  // FILE: .markdownlint.jsonc
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // REGEL-DEFINITIONEN FÃœR MARKDOWNLINT (v1.2.1)
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // Zweck:       Erzwingt ein sauberes Dokumentations-Layout.
  // KompatibilitÃ¤t: .editorconfig, markdownlint-cli2.jsonc.
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  "default": true,

  // MD013: ZeilenlÃ¤nge deaktiviert
  // Erlaubt flieÃŸenden Text, was Git-Diffs sauberer hÃ¤lt.
  "MD013": false,

  // MD001: Ãœberschriften-Hierarchie erzwingen (H1 -> H2 -> H3)
  "MD001": true,

  // MD036: Kein Emphasis als Ãœberschrift
  // Verhindert fettgedruckte Zeilen als Header-Ersatz (dein MD036 Fix).
  "MD036": true,

  // MD024: Doppelte Ãœberschriften nur auf gleicher Ebene verhindern
  "MD024": {
    "siblings_only": true
  },

  // MD025: Maximal eine H1 pro Datei (Titel der Seite)
  "MD025": {
    "level": 1
  },

  // MD026: Satzzeichen am Ende von Ãœberschriften
  // Erlaubt Fragezeichen oder Punkte in technischen Titeln.
  "MD026": false,

  // MD029: Geordnete Listen: Alle mit "1." beginnen
  // Verhindert Re-Nummerierungs-Chaos bei Verschiebungen im Git.
  "MD029": {
    "style": "ordered"
  },

  // MD007: EinrÃ¼ckung von Listen
  // Synchronisiert mit .editorconfig (indent_size = 4).
  "MD007": {
    "indent": 4
  },

  // MD031: Leerzeilen um CodeblÃ¶cke erzwingen
  "MD031": true,

  // MD022: Leerzeilen um Ãœberschriften erzwingen
  "MD022": true,

  // MD009: AbschlieÃŸende Leerzeichen erlauben
  // Notwendig fÃ¼r harte ZeilenumbrÃ¼che (Double Space) in Markdown.
  "MD009": false,

  // MD040: CodeblÃ¶cke: Sprache verpflichtend
  // Sorgt fÃ¼r korrektes Syntax-Highlighting (bash, json, etc.).
  "MD040": true,

  // MD033: Inline HTML erlauben
  // Erforderlich fÃ¼r die Box-Header-Elemente in deinen Docs.
  "MD033": false,

  // MD041: Erste Zeile muss keine H1 sein
  // Erlaubt das Platzieren deiner Box-Header am Dateianfang.
  "MD041": false
}


### END OF FILE: .markdownlint.jsonc

#################################################################
### BEGIN FILE: lib\libcolors.sh
#################################################################

#!/usr/bin/env bash
#
# FILE: lib/libcolors.sh
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ATOMARE ANSI-FARBCODES UND TEXT-ATTRIBUTE
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:    Zentrale Definition von ANSI-Escape-Sequenzen.
#           Dient als Datenbasis fÃ¼r libconstants.sh.
# Hinweis:  Diese Bibliothek ist "source-bare" (enthÃ¤lt nur Variablen).
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# @section Text-Attribute
# Steuerung der Textdarstellung
readonly ATTR_RESET='0'
readonly ATTR_BOLD='1'
readonly ATTR_DIM='2'
readonly ATTR_ITALIC='3'
readonly ATTR_UNDERLINE='4'
readonly ATTR_BLINK='5'
readonly ATTR_REVERSE='7'
readonly ATTR_INVISIBLE='8'

# @section Vordergrund-Farben (Standard)
# Mapping auf COL_ PrÃ¤fix fÃ¼r Konsistenz mit libconstants.sh
readonly COL_BLACK='0;30'
readonly COL_RED='0;31'
readonly COL_GREEN='0;32'
readonly COL_YELLOW='0;33'
readonly COL_BLUE='0;34'
readonly COL_MAGENTA='0;35'
readonly COL_CYAN='0;36'
readonly COL_WHITE='0;37'

# @section Hintergrund-Farben
# Zur Verwendung in Headern oder Statuszeilen
readonly BG_BLACK='40'
readonly BG_RED='41'
readonly BG_GREEN='42'
readonly BG_YELLOW='43'
readonly BG_BLUE='44'
readonly BG_MAGENTA='45'
readonly BG_CYAN='46'
readonly BG_WHITE='47'

# @section Steuerzeichen
# ESC-Sequenz-Begrenzer fÃ¼r den dynamischen Zusammenbau
readonly ESC_START='\e['
readonly ESC_END='m'

true


### END OF FILE: lib\libcolors.sh

#################################################################
### BEGIN FILE: lib\libconstants.sh
#################################################################

#!/usr/bin/env bash
#
# FILE: lib/libconstants.sh
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ZENTRALE KONFIGURATION UND DATENMODELL
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:    Definiert Exit-Codes, UI-Elemente, Pfade und Whitelists.
#           Dient als Single Source of Truth fÃ¼r das Repository.
# AbhÃ¤ngigkeiten: libcolors.sh (muss geladen sein).
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# @section Exit Codes
# Standardisierte RÃ¼ckgabewerte fÃ¼r alle Funktionen.
readonly EXIT_OK=0
readonly EXIT_FATAL=1
readonly EXIT_WARN=2

# @section UI / Symbole (ASCII-safe)
# Status-Indikatoren fÃ¼r maximale KompatibilitÃ¤t in TTY/SSH.
readonly SYMBOL_OK="[ OK ]"
readonly SYMBOL_ERROR="[  X  ]"
readonly SYMBOL_WARN="[  i  ]"

# @section CLI-Farben
# Zusammenbau der ANSI-Escapesequenzen aus libcolors.sh Bausteinen.
# Nutzt die atomaren COL_ Variablen aus der Basis-Bibliothek.
readonly COL_RED="${ESC_START}${COL_RED}${ESC_END}"
readonly COL_GREEN="${ESC_START}${COL_GREEN}${ESC_END}"
readonly COL_YELLOW="${ESC_START}${COL_YELLOW}${ESC_END}"
readonly COL_BLUE="${ESC_START}${COL_BLUE}${ESC_END}"
readonly COL_MAGENTA="${ESC_START}${COL_MAGENTA}${ESC_END}"
readonly COL_CYAN="${ESC_START}${COL_CYAN}${ESC_END}"
readonly COL_RESET="${ESC_START}${ATTR_RESET}${ESC_END}"

# @section Log-Formatierung
# PrÃ¤fixe fÃ¼r die Logging-Funktionen in libcommon.sh.
readonly LOG_PREFIX_INFO="${COL_GREEN}${SYMBOL_OK}${COL_RESET}"
readonly LOG_PREFIX_WARN="${COL_YELLOW}${SYMBOL_WARN}${COL_RESET}"
readonly LOG_PREFIX_ERROR="${COL_RED}${SYMBOL_ERROR}${COL_RESET}"

# @section Erweiterte Stile
# Komplexe UI-Elemente fÃ¼r Header und Hervorhebungen.
readonly STYLE_BOLD="${ESC_START}${ATTR_BOLD}${ESC_END}"
readonly STYLE_DIM="${ESC_START}${ATTR_DIM}${ESC_END}"
readonly STYLE_BOLD_YELLOW="${ESC_START}${ATTR_BOLD};33${ESC_END}"
readonly STYLE_UNDERLINE_GREEN="${ESC_START}${ATTR_UNDERLINE};32${ESC_END}"
readonly STYLE_HEADER_BG="${ESC_START}${ATTR_BOLD};${BG_BLUE};33${ESC_END}"

# @section Pfade & Repo-Struktur
# Interne Verzeichnisnamen des Projekts.
readonly REPO_HOME_DIR="home"
readonly REPO_CONFIG_DIR="config"

# @section Home-Dotfiles (Symlink Whitelist)
# Dateien in 'home/', die in das User-Home verlinkt werden.
readonly DOTFILES_WHITELIST=(
    ".bashrc"
    ".bashexports"
    ".bashenv"
    ".bashprompt"
    ".bashaliases"
    ".bashfunctions"
    ".bashwartung"
    ".dircolors"
    ".nanorc"
)

# @section Shell-Verhalten
# Standardkonfiguration fÃ¼r die Ziel-Umgebung.
readonly SHELL_TMOUT_SSH=0
readonly HIST_SIZE_INTERNAL=8192
readonly HIST_FILE_SIZE_INTERNAL=16384

# @section Runtime-Configs (Copy Whitelist)
# Verzeichnisse in 'config/', die nach ~/.config/ kopiert werden.
readonly RUNTIME_CONFIGS=(
    "mc"
    "micro"
)

true


### END OF FILE: lib\libconstants.sh

#################################################################
### BEGIN FILE: lib\libchecks.sh
#################################################################

#!/usr/bin/env bash
#
# FILE: lib/libchecks.sh
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# SYSTEM-DIAGNOSEN UND INTEGRITÃ„TSPRÃœFUNGEN
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:    Validierung der Systemumgebung, PfadauflÃ¶sung und
#           ÃœberprÃ¼fung der Symlink-IntegritÃ¤t.
# AbhÃ¤ngigkeiten: libcolors.sh, libconstants.sh, libcommon.sh
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# @description Ermittelt den absoluten Zielpfad einer Datei oder eines Symlinks.
# @param $1 Pfad, der aufgelÃ¶st werden soll.
# @stdout Der kanonische (absolute) Pfad.
# @return EXIT_OK (0)
canon_path() {
    local p="$1"

    # 1. Falls Pfad ein Link ist, Ziel auslesen (rekursiv auflÃ¶sen)
    if [[ -L "$p" ]]; then
        p=$(readlink -f "$p" 2>/dev/null || realpath "$p" 2>/dev/null || echo "$p")
    fi

    # 2. Absoluten Pfad sicherstellen (PortabilitÃ¤t fÃ¼r Linux/BSD/Windows)
    if has_cmd readlink && readlink -f / >/dev/null 2>&1; then
        readlink -f "$p" 2>/dev/null
    elif has_cmd realpath; then
        realpath "$p" 2>/dev/null
    else
        printf '%s\n' "$p"
    fi
    return "$EXIT_OK"
}

# @description PrÃ¼ft das System auf notwendige AbhÃ¤ngigkeiten und Verzeichnisse.
# @param $1 Home-Verzeichnis des Ziel-Users.
# @param $2 Benutzername.
# @param $3 Root-Pfad des Repositories.
# @stdout Statusmeldungen zum PrÃ¼fprozess (Erfolg/Fehler).
# @return EXIT_OK oder EXIT_FATAL.
checks_health() {
    local home_dir="$1" user_name="$2" repo_root="$3"
    local fatal_errors=0

    log_info "Health Check fÃ¼r $user_name ($home_dir):"

    # BenÃ¶tigte CLI-Tools verifizieren
    local cmd
    for cmd in git ln rm mkdir cp; do
        if has_cmd "$cmd"; then
            echo -e "    ${COL_GREEN}${SYMBOL_OK}${COL_RESET} Befehl '$cmd' gefunden."
        else
            log_error "Befehl '$cmd' fehlt auf dem System."
            ((fatal_errors++))
        fi
    done

    # Existenz der kritischen Pfade prÃ¼fen
    if [[ ! -d "$repo_root" ]]; then
        log_error "Repo-Verzeichnis nicht gefunden: $repo_root"
        ((fatal_errors++))
    fi

    if [[ ! -d "$home_dir" ]]; then
        log_error "Home-Verzeichnis nicht gefunden: $home_dir"
        ((fatal_errors++))
    fi

    [[ $fatal_errors -gt 0 ]] && return "$EXIT_FATAL"
    return "$EXIT_OK"
}

# @description Validiert den Status aller Symlinks gemÃ¤ÃŸ der DOTFILES_WHITELIST.
# @param $1 Home-Verzeichnis des Ziel-Users.
# @param $2 Benutzername.
# @param $3 Root-Pfad des Repositories.
# @stdout Detaillierte Liste des Link-Status pro Datei.
# @return EXIT_OK oder EXIT_WARN.
checks_check_symlinks() {
    local home_dir="$1" user_name="$2" repo_root="$3"
    local warnings=0

    log_info "Symlink Check fÃ¼r $user_name:"

    local file src dest
    for file in "${DOTFILES_WHITELIST[@]}"; do
        src="${repo_root}/home/${file}"
        dest="${home_dir}/${file}"

        # 1. Existenz im Repo prÃ¼fen
        if [[ ! -e "$src" ]]; then
            echo -e "    ${COL_YELLOW}${SYMBOL_WARN}${COL_RESET} Quelle fehlt im Repo: ${file}"
            ((warnings++))
            continue
        fi

        # 2. VerknÃ¼pfungs-Status im Home prÃ¼fen
        if [[ -L "$dest" ]]; then
            # Pfadvergleich der kanonischen Ziele
            local canon_dest_target
            local canon_src
            canon_dest_target="$(canon_path "$dest")"
            canon_src="$(canon_path "$src")"

            if [[ "$canon_dest_target" == "$canon_src" ]]; then
                echo -e "    ${COL_GREEN}${SYMBOL_OK}${COL_RESET} ${file}: Korrekt verlinkt."
            else
                echo -e "    ${COL_YELLOW}${SYMBOL_WARN}${COL_RESET} ${file}: Zeigt auf falsches Ziel."
                ((warnings++))
            fi
        elif [[ -e "$dest" ]]; then
            echo -e "    ${COL_YELLOW}${SYMBOL_WARN}${COL_RESET} ${file}: Reale Datei blockiert Link."
            ((warnings++))
        else
            echo -e "    ${COL_RED}${SYMBOL_ERROR}${COL_RESET} ${file}: Link fehlt."
            ((warnings++))
        fi
    done

    [[ $warnings -gt 0 ]] && return "$EXIT_WARN"
    return "$EXIT_OK"
}

true


### END OF FILE: lib\libchecks.sh

#################################################################
### BEGIN FILE: lib\libcommon.sh
#################################################################

#!/usr/bin/env bash
#
# FILE: lib/libcommon.sh
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# BASIS-HILFSFUNKTIONEN UND WRAPPER
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:    Zentrale Logik fÃ¼r Logging, Fehlerbehandlung und
#           sichere BefehlsausfÃ¼hrung (Dry-Run Support).
# AbhÃ¤ngigkeiten: libcolors.sh, libconstants.sh
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# @description Gibt eine Informationsmeldung in Cyan aus.
# @param $1 Die auszugebende Nachricht.
# @stdout Formatierter String mit LOG_PREFIX_INFO.
log_info() {
    echo -e "${LOG_PREFIX_INFO} ${COL_CYAN}$1${COL_RESET}"
}

# @description Gibt eine Warnmeldung in Gelb aus.
# @param $1 Die auszugebende Nachricht.
# @stdout Formatierter String mit LOG_PREFIX_WARN auf stdout.
log_warn() {
    echo -e "${LOG_PREFIX_WARN} ${COL_YELLOW}$1${COL_RESET}"
}

# @description Gibt eine Fehlermeldung in Rot auf stderr aus.
# @param $1 Die auszugebende Nachricht.
# @stdout Formatierter String mit LOG_PREFIX_ERROR auf stderr.
log_error() {
    echo -e "${LOG_PREFIX_ERROR} ${COL_RED}$1${COL_RESET}" >&2
}

# @description Beendet das Skript sofort mit einer Fehlermeldung.
# @param $1 Die Fehlermeldung, die den Abbruch erklÃ¤rt.
# @stdout Fehlermeldung auf stderr.
# @return EXIT_FATAL (1)
die() {
    log_error "$1"
    exit "$EXIT_FATAL"
}

# @description FÃ¼hrt Befehle aus oder simuliert sie im Dry-Run Modus.
# @param $@ Der auszufÃ¼hrende Befehl inklusive aller Argumente.
# @stdout Gibt den Befehl aus, wenn DRY_RUN=1 aktiv ist.
# @return RÃ¼ckgabewert des ausgefÃ¼hrten Befehls oder 0 bei Dry-Run.
run() {
    if [[ "${DRY_RUN:-0}" -eq 1 ]]; then
        echo -e "${COL_YELLOW}[DRY-RUN]${COL_RESET} $ ${ATTR_DIM}$*${COL_RESET}"
        return "$EXIT_OK"
    fi
    "$@"
}

# @description PrÃ¼ft leise, ob ein Befehl im Systempfad verfÃ¼gbar ist.
# @param $1 Name des zu prÃ¼fenden Befehls.
# @return 0 wenn gefunden, 1 wenn nicht vorhanden.
has_cmd() {
    command -v "$1" >/dev/null 2>&1
}

# @description Erzwingt das Vorhandensein eines Befehls und bricht sonst ab.
# @param $1 Name des erforderlichen Befehls.
# @return EXIT_OK oder bricht via die() ab.
require_cmd() {
    if ! has_cmd "$1"; then
        die "Erforderliches Tool nicht gefunden: $1. Bitte installieren."
    fi
}

# @description Formatiert einen Header fÃ¼r Log-Sektionen.
# @param $1 Titel der Sektion.
# @stdout Ein eingerahmter Header-Block.
log_section() {
    local title="$1"
    local line="â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
    echo -e "\n${COL_BLUE}${line}${COL_RESET}"
    echo -e "${STYLE_BOLD}${title}${COL_RESET}"
    echo -e "${COL_BLUE}${line}${COL_RESET}"
}

true


### END OF FILE: lib\libcommon.sh

#################################################################
### BEGIN FILE: lib\libengine.sh
#################################################################

#!/usr/bin/env bash
#
# FILE: lib/libengine.sh
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# KERN-LOGIK FÃœR INSTALLATION UND DEINSTALLATION
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:    Verwaltung von Symlinks (Home) und Kopien (Config).
#           Implementiert Idempotenz und Sicherheits-Backups.
# AbhÃ¤ngigkeiten: libcolors.sh, libconstants.sh, libcommon.sh, libchecks.sh
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# @description Installiert Dotfiles als Symlinks im Home-Verzeichnis des Users.
# @param $1 Home-Verzeichnis des Ziel-Users.
# @param $2 Benutzername (fÃ¼r Logging).
# @param $3 Root-Pfad des Repositories.
# @stdout Detaillierter Fortschritt der VerknÃ¼pfungs-Operationen.
# @return EXIT_OK oder EXIT_FATAL.
engine_install_home() {
    local home_dir="$1" user_name="$2" repo_root="$3"
    local errors=0

    log_info "Starte Home-Installation fÃ¼r ${user_name} in ${home_dir}"

    local file src dest
    for file in "${DOTFILES_WHITELIST[@]}"; do
        src="${repo_root}/${REPO_HOME_DIR}/${file}"
        dest="${home_dir}/${file}"

        # 1. Quell-Validierung
        if [[ ! -e "$src" ]]; then
            log_warn "SKIP ${file}: Quelle fehlt im Repo"
            continue
        fi

        # 2. Idempotenz-PrÃ¼fung: Ist der Link bereits korrekt?
        if [[ -L "$dest" ]]; then
            if [[ "$(canon_path "$dest")" == "$(canon_path "$src")" ]]; then
                log_info "OK ${file}: Symlink bereits korrekt"
                continue
            else
                log_warn "SKIP ${file}: Symlink zeigt auf fremdes Ziel"
                continue
            fi
        fi

        # 3. Sicherheits-Check: Keine echten Dateien/Verzeichnisse Ã¼berschreiben
        if [[ -e "$dest" ]]; then
            log_warn "SKIP ${file}: Ziel existiert bereits als echte Datei/Dir"
            continue
        fi

        # 4. VerknÃ¼pfung erstellen (via run-Wrapper fÃ¼r Dry-Run Support)
        run ln -sf "$src" "$dest" || ((errors++))
    done

    # Anschluss: Installation der Runtime-Configs (z.B. mc, micro)
    engine_install_runtime_configs "$home_dir" "$repo_root" || ((errors++))

    [[ $errors -gt 0 ]] && return "$EXIT_FATAL"
    return "$EXIT_OK"
}

# @description Entfernt Symlinks, die auf das Repository zeigen.
# @param $1 Home-Verzeichnis des Ziel-Users.
# @param $2 Benutzername.
# @param $3 Root-Pfad des Repositories.
# @stdout Protokoll der entfernten VerknÃ¼pfungen.
# @return EXIT_OK oder EXIT_FATAL.
engine_uninstall_home() {
    local home_dir="$1" user_name="$2" repo_root="$3"
    local errors=0

    log_info "Starte Deinstallation fÃ¼r ${user_name}"

    local file src dest
    for file in "${DOTFILES_WHITELIST[@]}"; do
        src="${repo_root}/${REPO_HOME_DIR}/${file}"
        dest="${home_dir}/${file}"

        # Nur Symlinks entfernen, die nachweislich auf dieses Repo zeigen
        if [[ -L "$dest" ]]; then
            if [[ "$(canon_path "$dest")" == "$(canon_path "$src")" ]]; then
                run rm -- "$dest" || ((errors++))
            else
                log_warn "SKIP ${file}: Symlink zeigt auf fremdes Ziel"
            fi
        elif [[ -e "$dest" ]]; then
            log_warn "SKIP ${file}: Echte Datei/Dir wird nicht automatisch entfernt"
        fi
    done

    # Runtime-Konfigurationen im .config Verzeichnis entfernen
    local tool target
    for tool in "${RUNTIME_CONFIGS[@]}"; do
        target="${home_dir}/.config/${tool}"
        if [[ -e "$target" || -L "$target" ]]; then
            run rm -rf -- "$target" || ((errors++))
        fi
    done

    [[ $errors -gt 0 ]] && return "$EXIT_FATAL"
    return "$EXIT_OK"
}

# @description Kopiert Verzeichnisse aus config/ nach ~/.config/ inklusive Backup-Logik.
# @param $1 Home-Verzeichnis des Ziel-Users.
# @param $2 Root-Pfad des Repositories.
# @stdout Meldungen Ã¼ber Backups und KopiervorgÃ¤nge.
# @return EXIT_OK oder EXIT_FATAL.
engine_install_runtime_configs() {
    local home_dir="$1" repo_root="$2"
    local config_dest="${home_dir}/.config"
    local error_count=0

    # Sicherstellen, dass der .config Zielordner existiert
    if [[ ! -d "$config_dest" ]]; then
        run mkdir -p "$config_dest" || return "$EXIT_FATAL"
    fi

    for tool in "${RUNTIME_CONFIGS[@]}"; do
        local src="${repo_root}/${REPO_CONFIG_DIR}/${tool}"
        local dest="${config_dest}/${tool}"

        if [[ -d "$src" ]]; then
            # Backup-Logik: Falls Zielordner existiert, verschieben statt lÃ¶schen
            if [[ -e "$dest" && ! -L "$dest" ]]; then
                log_warn "Backup: Verschiebe existierenden Ordner ${tool} nach .bak"
                [[ -e "${dest}.bak" ]] && run rm -rf "${dest}.bak"
                run mv "$dest" "${dest}.bak" || ((error_count++))
            elif [[ -L "$dest" ]]; then
                # Existierende Links im .config-Ordner werden entfernt
                run rm "$dest" || ((error_count++))
            fi

            # Kopier-Vorgang
            run cp -r "$src" "$config_dest/" || ((error_count++))
        else
            log_warn "SKIP '${tool}': Quelle fehlt in ${REPO_CONFIG_DIR}/"
        fi
    done

    [[ $error_count -gt 0 ]] && return "$EXIT_FATAL"
    return "$EXIT_OK"
}

true


### END OF FILE: lib\libengine.sh

#################################################################
### BEGIN FILE: lib\libplatform_linux.sh
#################################################################

#!/usr/bin/env bash
#
# FILE: lib/libplatform_linux.sh
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# LINUX-SPEZIFISCHE IMPLEMENTIERUNGEN
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:    Benutzerverwaltung, Root-Validierung und System-Checks
#           speziell fÃ¼r Linux-Umgebungen (Debian/Ubuntu/etc.).
# AbhÃ¤ngigkeiten: libcommon.sh, libconstants.sh
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# @description Initialisiert Linux-spezifische Anforderungen.
# @stdout Keine (Fehler fÃ¼hren zum Abbruch).
# @return EXIT_OK oder bricht via require_cmd ab.
platform_linux_init() {
    # Validierung der fÃ¼r die BenutzerauflÃ¶sung kritischen Tools
    require_cmd getent
    require_cmd id
    return "$EXIT_OK"
}

# @description Erzwingt Root-Rechte fÃ¼r administrative Aufgaben.
# @stdout Keine.
# @return EXIT_OK oder bricht via die() ab (EXIT_FATAL).
platform_linux_require_root() {
    if [[ "$EUID" -ne 0 ]]; then
        die "Dieses Kommando erfordert Root-Rechte (sudo)."
    fi
    return "$EXIT_OK"
}

# @description Identifiziert relevante Benutzer fÃ¼r die Installation.
# Filterkriterien:
# 1. UID 0 (Root) fÃ¼r administrative Umgebungen.
# 2. UIDs >= 1000 (RegulÃ¤re Benutzer laut Linux-Standard).
# 3. Ausschluss von 'nobody' (UID 65534).
# @stdout Liste der Benutzernamen (einer pro Zeile).
# @return EXIT_OK
platform_linux_list_target_users() {
    # Nutzt getent fÃ¼r KompatibilitÃ¤t mit LDAP/AD-Benutzern
    # Filtert UIDs basierend auf Standard-Systemgrenzen
    getent passwd | awk -F: '($3 == 0 || ($3 >= 1000 && $3 != 65534)) {print $1}'
    return "$EXIT_OK"
}

# @description PrÃ¼ft, ob ein spezifischer Benutzer im System existiert.
# @param $1 Der zu prÃ¼fende Benutzername.
# @stdout Keine.
# @return EXIT_OK (0) bei Erfolg, EXIT_FATAL (1) wenn nicht gefunden.
platform_linux_validate_user() {
    local user="$1"

    # getent prÃ¼ft lokal (/etc/passwd) und Ã¼ber konfigurierte Name-Services
    if getent passwd "$user" >/dev/null 2>&1; then
        return "$EXIT_OK"
    else
        return "$EXIT_FATAL"
    fi
}

true


### END OF FILE: lib\libplatform_linux.sh

#################################################################
### BEGIN FILE: lib\libplatform_windows.sh
#################################################################

#!/usr/bin/env bash
#
# FILE: lib/libplatform_windows.sh
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# WINDOWS-SPEZIFISCHE IMPLEMENTIERUNGEN (GIT BASH / MSYS2)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:    Konfiguration nativer Windows-Symlinks und Validierung
#           von Berechtigungen (Entwicklermodus).
# AbhÃ¤ngigkeiten: libcommon.sh, libconstants.sh
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# @description Initialisiert die Windows-Umgebung fÃ¼r native Symlinks.
# @stdout Keine.
# @return EXIT_OK oder bricht via die() ab (EXIT_FATAL).
platform_windows_init() {
    # Erzwingt native Windows-Symlinks anstelle von MSYS-Emulationen (Kopien).
    # 'nativestrict' sorgt dafÃ¼r, dass Operationen abbrechen, wenn kein echter Link mÃ¶glich ist.
    export MSYS="winsymlinks:nativestrict"

    if [[ "${MSYS:-}" != *"winsymlinks:nativestrict"* ]]; then
        die "Konnte MSYS=winsymlinks:nativestrict nicht setzen."
    fi
    return "$EXIT_OK"
}

# @description Verifiziert proaktiv, ob der User Symlinks erstellen darf.
# Erstellt einen Test-Link in einem temporÃ¤ren Verzeichnis.
# @stdout Statusmeldung bei Erfolg, detaillierte Fehleranleitung bei Fehlschlag.
# @return EXIT_OK oder bricht via exit ab (EXIT_FATAL).
platform_windows_require_symlink_rights() {
    log_info "PrÃ¼fe Windows Symlink-Berechtigungen..."

    local tmp_dir test_target test_link
    tmp_dir="$(mktemp -d 2>/dev/null || echo "")"
    [[ -z "$tmp_dir" || ! -d "$tmp_dir" ]] && die "Konnte temporÃ¤res Verzeichnis fÃ¼r Test nicht erstellen."

    test_target="${tmp_dir}/target_file"
    test_link="${tmp_dir}/test_link"

    # 'nativestrict' erfordert zwingend die Existenz der Quelldatei vor der Verlinkung.
    printf '%s\n' "symlink-test" >"$test_target" || die "Konnte Test-Datei nicht erstellen."

    # 1. Test: Versuche einen symbolischen Link zu erstellen
    if ln -s "$test_target" "$test_link" 2>/dev/null; then
        # Erfolg: AufrÃ¤umen und fortfahren
        rm -f "$test_link" "$test_target" 2>/dev/null || true
        rmdir "$tmp_dir" 2>/dev/null || true

        echo -e "    ${COL_GREEN}${SYMBOL_OK}${COL_RESET} Symlink-Rechte erfolgreich verifiziert."
        return "$EXIT_OK"
    fi

    # 2. Fehlerfall: AufrÃ¤umen und Benutzer informieren
    rm -f "$test_link" "$test_target" 2>/dev/null || true
    rmdir "$tmp_dir" 2>/dev/null || true

    echo -e "${COL_RED}${SYMBOL_ERROR} FEHLER: Native Symlinks konnten nicht erstellt werden.${COL_RESET}" >&2
    cat <<EOF >&2

MÃ¶gliche Ursachen:
1) Der 'Entwicklermodus' (Developer Mode) ist in den Windows-Einstellungen NICHT aktiviert.
2) Die Sicherheitsrichtlinie 'Erstellen symbolischer VerknÃ¼pfungen' fehlt fÃ¼r Ihren Account.
3) Git Bash wurde nicht mit ausreichenden Rechten gestartet.

MaÃŸnahme: Aktivieren Sie den Entwicklermodus in den Windows 10/11 Einstellungen, um
Symlinks ohne Administratorrechte zu ermÃ¶glichen.
EOF
    exit "$EXIT_FATAL"
}

# @description Identifiziert den aktuellen Windows-Benutzer.
# @stdout Der aktuelle Benutzername (via whoami).
# @return EXIT_OK
platform_windows_list_target_users() {
    # whoami ist der stabilste Weg unter MSYS2/Git Bash
    whoami
    return "$EXIT_OK"
}

true


### END OF FILE: lib\libplatform_windows.sh

#################################################################
### BEGIN FILE: dotfilesctl.sh
#################################################################

#!/usr/bin/env bash
#
# FILE: dotfilesctl.sh
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ZENTRALER ORCHESTRATOR FÃœR DAS DOTFILES-MANAGEMENT
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:    Zentraler Einstiegspunkt zur Verwaltung von Symlinks
#           und System-Diagnosen auf Linux & Windows.
# Standards: set -euo pipefail, Bash >= 4.0, Modulares Design.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

set -euo pipefail

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 1. INITIALISIERUNG & PFAD-AUFLÃ–SUNG
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# @description PrÃ¼ft die Bash-Version und lÃ¶st den REPO_ROOT Pfad auf.
if (( BASH_VERSINFO[0] < 4 )); then
    echo -e "[ X ] Fehler: Bash >= 4.0 erforderlich (gefunden: ${BASH_VERSION})." >&2
    exit 1
fi

SOURCE="${BASH_SOURCE[0]}"
while [ -h "$SOURCE" ]; do
    DIR="$( cd -P "$( dirname "$SOURCE" )" >/dev/null 2>&1 && pwd )"
    SOURCE="$(readlink "$SOURCE")"
    [[ $SOURCE != /* ]] && SOURCE="$DIR/$SOURCE"
done
readonly REPO_ROOT="$( cd -P "$( dirname "$SOURCE" )" >/dev/null 2>&1 && pwd )"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 2. MODULARES LADEN DER BIBLIOTHEKEN
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

LIB_FILES=(
    "libcolors.sh"
    "libconstants.sh"
    "libcommon.sh"
    "libplatform_linux.sh"
    "libplatform_windows.sh"
    "libengine.sh"
    "libchecks.sh"
)

for lib in "${LIB_FILES[@]}"; do
    if [[ -f "${REPO_ROOT}/lib/$lib" ]]; then
        # shellcheck disable=SC1090
        source "${REPO_ROOT}/lib/$lib"
    else
        echo -e "KRITISCH: Bibliothek ${REPO_ROOT}/lib/$lib nicht gefunden!" >&2
        exit 1
    fi
done

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 3. FUNKTIONEN
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# @description Zeigt die Hilfe und verfÃ¼gbare Befehle an.
# @stdout Nutzungsanleitung mit farblicher Hervorhebung.
usage() {
    echo -e "${STYLE_BOLD_YELLOW}Dotfiles Controller${COL_RESET} (v1.2.1)"
    echo -e "Repo: ${COL_CYAN}${REPO_ROOT}${COL_RESET}\n"
    cat <<EOF
Nutzung: $(basename "$0") BEFEHL [OPTIONEN]

Befehle:
    install         Erstellt Symlinks gemÃ¤ÃŸ DOTFILES_WHITELIST.
    uninstall       Entfernt Symlinks aus den Zielverzeichnissen.
    update          Repo-Aktualisierung via 'git pull --ff-only'.
    health          System-Check (AbhÃ¤ngigkeiten & Schreibrechte).
    checksymlinks   IntegritÃ¤tsprÃ¼fung der vorhandenen Links.
    doctor          VollstÃ¤ndige Diagnose (Health + Symlinks).

Optionen:
    --dry-run       Simulation: Keine Schreiboperationen ausfÃ¼hren.
    --strict        Behandelt Warnungen als fatale Fehler (Exit 1).
    --all-users     (Linux) Wendet Aktion auf alle Home-Verzeichnisse an.
    --user <name>   (Linux) Spezifischen System-Benutzer ansteuern.
    --help          Diese Hilfe anzeigen.
EOF
}

# @description Steuert Installation und Deinstallation fÃ¼r Linux und Windows.
# @param $1 Aktion ("install" oder "uninstall").
# @param $2 Betriebssystem ("linux" oder "windows").
# @param $3 Flag fÃ¼r alle Benutzer (0 oder 1).
# @param $4 Spezifischer Benutzername (optional).
# @stdout Protokoll der Engine-Operationen.
# @return EXIT_OK oder EXIT_FATAL.
cmd_install_uninstall() {
    local action="$1" os="$2" all="$3" user="$4"
    local error_count=0

    if [[ "$os" == "linux" ]]; then
        platform_linux_require_root

        local users_to_process=()
        if [[ "$all" -eq 1 ]]; then
            mapfile -t users_to_process < <(platform_linux_list_target_users)
        elif [[ -n "$user" ]]; then
            platform_linux_validate_user "$user" && users_to_process+=("$user") || die "User '$user' ungÃ¼ltig."
        else
            die "Auf Linux ist --all-users oder --user <name> erforderlich."
        fi

        for u in "${users_to_process[@]}"; do
            local home
            home="$(getent passwd "$u" | cut -d: -f6)"
            log_info "Verarbeite Benutzer: ${COL_CYAN}$u${COL_RESET} ($home)"

            if [[ "$action" == "install" ]]; then
                engine_install_home "$home" "$u" "$REPO_ROOT" || ((error_count++))
            else
                engine_uninstall_home "$home" "$u" "$REPO_ROOT" || ((error_count++))
            fi
        done
    else
        [[ "$all" -eq 1 || -n "$user" ]] && die "User-Wahl unter Windows nicht unterstÃ¼tzt."
        [[ "$action" == "install" ]] && platform_windows_require_symlink_rights

        log_info "Verarbeite Benutzer: ${COL_CYAN}$USER${COL_RESET} ($HOME)"
        if [[ "$action" == "install" ]]; then
            engine_install_home "$HOME" "$USER" "$REPO_ROOT" || ((error_count++))
        else
            engine_uninstall_home "$HOME" "$USER" "$REPO_ROOT" || ((error_count++))
        fi
    fi

    [[ $error_count -gt 0 ]] && exit "$EXIT_FATAL"
    return "$EXIT_OK"
}

# @description FÃ¼hrt Diagnosen fÃ¼r einen oder mehrere Benutzer aus.
# @param $1 Diagnose-Modus ("health", "checksymlinks" oder "doctor").
# @param $2 Betriebssystem ("linux" oder "windows").
# @param $3 Flag fÃ¼r alle Benutzer (0 oder 1).
# @param $4 Spezifischer Benutzername (optional).
# @stdout Detaillierte Diagnoseberichte und Zusammenfassung.
# @return EXIT_OK, EXIT_WARN oder EXIT_FATAL.
cmd_health_checks() {
    local action="$1" os="$2" all="$3" user="$4"
    local total_warns=0 total_errors=0

    # Interner ZÃ¤hler fÃ¼r Status-Aggregation.
    update_counters() {
        case "$1" in
            "$EXIT_OK")    return 0 ;;
            "$EXIT_WARN")  ((total_warns++)); return 0 ;;
            *)             ((total_errors++)); return 0 ;;
        esac
    }

    # FÃ¼hrt die Checks fÃ¼r ein einzelnes Home-Dir aus.
    run_check_single() {
        local u="$1" h="$2" ret=0
        echo -e "\n${COL_BLUE}>>>${COL_RESET} ${STYLE_BOLD}Diagnose fÃ¼r: $u${COL_RESET}"

        if [[ "$action" == "health" || "$action" == "doctor" ]]; then
            ret=0; checks_health "$h" "$u" "$REPO_ROOT" || ret=$?
            update_counters "$ret"
            [[ "$action" == "doctor" && "$ret" -eq "$EXIT_FATAL" ]] && return 0
        fi

        if [[ "$action" == "checksymlinks" || "$action" == "doctor" ]]; then
            ret=0; checks_check_symlinks "$h" "$u" "$REPO_ROOT" || ret=$?
            update_counters "$ret"
        fi
    }

    local target_users=()
    if [[ "$os" == "linux" ]]; then
        if [[ "$all" -eq 1 ]]; then
            mapfile -t target_users < <(platform_linux_list_target_users)
        elif [[ -n "$user" ]]; then
            platform_linux_validate_user "$user" && target_users+=("$user") || die "User '$user' ungÃ¼ltig."
        else
            target_users+=("$USER")
        fi
    else
        target_users+=("$USER")
    fi

    for u in "${target_users[@]}"; do
        local h
        h=$([[ "$os" == "linux" ]] && getent passwd "$u" | cut -d: -f6 || echo "$HOME")
        run_check_single "$u" "$h"
    done

    echo -e "\n${STYLE_HEADER_BG} ZUSAMMENFASSUNG ${COL_RESET}"
    if [[ $total_errors -gt 0 ]]; then
        log_error "Fehlgeschlagen mit ${total_errors} Fehlern."
        exit "$EXIT_FATAL"
    fi

    if [[ $total_warns -gt 0 ]]; then
        log_warn "Beendet mit ${total_warns} Warnungen."
        [[ "${STRICT_MODE_INTERNAL:-0}" -eq 1 ]] && exit "$EXIT_FATAL" || exit "$EXIT_WARN"
    fi

    log_info "Keine Probleme gefunden."
    exit "$EXIT_OK"
}

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 4. MAIN ENTRY POINT
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# @description Hauptfunktion zum Parsen der Argumente und Routing der Befehle.
# @param $@ Alle Kommandozeilenargumente.
main() {
    DRY_RUN=0
    STRICT_MODE_INTERNAL=0
    TARGET_USER=""
    ALL_USERS=0
    CMD=""

    [[ $# -eq 0 ]] && { usage; exit "$EXIT_OK"; }

    CMD="$1"
    shift

    while [[ $# -gt 0 ]]; do
        case "$1" in
            --dry-run)   DRY_RUN=1; shift ;;
            --strict)    STRICT_MODE_INTERNAL=1; shift ;;
            --all-users) ALL_USERS=1; shift ;;
            --user)      [[ -z "${2:-}" ]] && die "--user erfordert Argument."; TARGET_USER="$2"; shift 2 ;;
            --help)      usage; exit "$EXIT_OK" ;;
            *)           die "Unbekannte Option: $1" ;;
        esac
    done

    readonly DRY_RUN STRICT_MODE_INTERNAL

    local os_type="$(uname -s)"
    local os="unknown"
    case "$os_type" in
        Linux*) os="linux" ;;
        MINGW*|MSYS*|CYGWIN*) os="windows" ;;
        *) die "Betriebssystem nicht unterstÃ¼tzt: ${os_type}" ;;
    esac

    case "$os" in
        linux)   platform_linux_init ;;
        windows) platform_windows_init ;;
    esac

    case "$CMD" in
        install|uninstall)
            cmd_install_uninstall "$CMD" "$os" "$ALL_USERS" "$TARGET_USER"
            ;;
        health|checksymlinks|doctor)
            cmd_health_checks "$CMD" "$os" "$ALL_USERS" "$TARGET_USER"
            ;;
        update)
            log_info "Aktualisiere Repository..."
            [[ "$os" == "linux" ]] && platform_linux_require_root
            run git -C "$REPO_ROOT" pull --ff-only || exit "$EXIT_FATAL"
            exit "$EXIT_OK"
            ;;
        *)
            usage; exit "$EXIT_FATAL"
            ;;
    esac
}

main "$@"


### END OF FILE: dotfilesctl.sh

#################################################################
### BEGIN FILE: test_suite.sh
#################################################################

#!/usr/bin/env bash
#
# FILE: test_suite.sh
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# AUTOMATISIERTE TEST-SUITE FÃœR DAS DOTFILES-PROJEKT
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:    Validierung der Kern-Logik (Installation, Idempotenz)
#           in einer isolierten Sandbox-Umgebung (/tmp).
# Standards: set -euo pipefail, Bash >= 4.0, Modulares Design.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

set -euo pipefail

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 1. INITIALISIERUNG & KONSTANTEN
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# @description Pfade fÃ¼r die isolierte Test-Umgebung.
readonly SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
readonly TEST_SANDBOX="/tmp/dotfiles_test_env"
readonly TEST_HOME="${TEST_SANDBOX}/home_dir"
readonly TEST_REPO="${TEST_SANDBOX}/repo"

# Laden der Kern-Bibliotheken fÃ¼r konsistente Farbausgaben und Exit-Codes.
# shellcheck disable=SC1091
source "${SCRIPT_DIR}/lib/libcolors.sh"
source "${SCRIPT_DIR}/lib/libconstants.sh"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 2. HILFSFUNKTIONEN (TEST-FRAMEWORK)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# @description Gibt eine formatierte Header-Nachricht aus.
# @param $1 Nachrichtentext.
# @stdout Formatiertes Header-PrÃ¤fix.
msg() {
    echo -e "\n${COL_BLUE}>>>${COL_RESET} ${STYLE_BOLD}$1${COL_RESET}"
}

# @description Gibt eine positive BestÃ¤tigung aus.
# @param $1 Nachrichtentext.
# @stdout Formatiertes Erfolgs-Symbol mit Nachricht.
success() {
    echo -e "    ${COL_GREEN}${SYMBOL_OK}${COL_RESET} $1"
}

# @description Gibt eine Fehlermeldung aus und bricht den Testlauf ab.
# @param $1 Fehlermeldung.
# @stdout Fehlermeldung auf stderr.
# @return EXIT_FATAL (via exit).
error() {
    echo -e "    ${COL_RED}${SYMBOL_ERROR}${COL_RESET} $1" >&2
    exit "$EXIT_FATAL"
}

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 3. TEST-DEFINITIONEN
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# @description Bereitet die Sandbox-Umgebung vor.
# @stdout Status der Verzeichniserstellung und KopiervorgÃ¤nge.
# @return EXIT_OK oder bricht via error() ab.
setup_test_env() {
    msg "Initialisiere Test-Umgebung in ${TEST_SANDBOX}"
    rm -rf "$TEST_SANDBOX"
    mkdir -p "$TEST_HOME"
    mkdir -p "$TEST_REPO"

    # Kopiere das gesamte Projekt in die Sandbox fÃ¼r isolierte AusfÃ¼hrung.
    cp -r "${SCRIPT_DIR}/"* "$TEST_REPO/"
    success "Test-Umgebung bereitgestellt."
    return "$EXIT_OK"
}

# @description FÃ¼hrt eine Simulation der Installation durch.
# @stdout Output des dotfilesctl.sh im Dry-Run Modus.
# @return EXIT_OK oder bricht via error() ab.
test_install_dry_run() {
    msg "Test: Install Dry-Run"
    (
        cd "$TEST_REPO"
        # Simulation der Umgebungsvariablen fÃ¼r PortabilitÃ¤t
        HOME="$TEST_HOME" USER="$(whoami)" ./dotfilesctl.sh install --dry-run --user "$(whoami)"
    ) || error "Dry-Run Befehl ist mit Fehlern abgebrochen."
    success "Dry-Run erfolgreich durchgelaufen."
    return "$EXIT_OK"
}

# @description FÃ¼hrt eine tatsÃ¤chliche Installation in der Sandbox aus.
# @stdout Output der Installation.
# @return EXIT_OK oder bricht via error() ab.
test_actual_install() {
    msg "Test: Echte Installation"
    (
        cd "$TEST_REPO"
        HOME="$TEST_HOME" USER="$(whoami)" ./dotfilesctl.sh install --user "$(whoami)"
    ) || error "Die Installation in der Sandbox ist fehlgeschlagen."

    # Validierung: PrÃ¼ft ob .bashrc als Symlink im Test-Home existiert.
    if [[ -L "${TEST_HOME}/.bashrc" ]]; then
        success "Symlink .bashrc wurde korrekt erstellt."
    else
        error ".bashrc Symlink fehlt nach Installation."
    fi
    return "$EXIT_OK"
}

# @description PrÃ¼ft, ob mehrfache AusfÃ¼hrung den Systemzustand nicht verÃ¤ndert (Idempotenz).
# @stdout BestÃ¤tigung der Idempotenz basierend auf Log-Output.
# @return EXIT_OK oder bricht via error() ab.
test_idempotency() {
    msg "Test: Idempotenz (Mehrfache AusfÃ¼hrung)"
    local output
    # Abfangen des Outputs, um auf die "bereits korrekt" Meldung zu prÃ¼fen.
    output=$(cd "$TEST_REPO" && HOME="$TEST_HOME" USER="$(whoami)" ./dotfilesctl.sh install --user "$(whoami)")

    if echo "$output" | grep -q "bereits korrekt"; then
        success "Idempotenz bestÃ¤tigt: Link erkannt und nicht unnÃ¶tig Ã¼berschrieben."
    else
        error "Idempotenz-Check fehlgeschlagen (Erneute Installation trotz Existenz)."
    fi
    return "$EXIT_OK"
}

# @description Bereinigt die Test-Umgebung.
# @stdout Status der Bereinigung.
test_cleanup() {
    msg "RÃ¤ume Test-Umgebung auf"
    rm -rf "$TEST_SANDBOX"
    success "Cleanup abgeschlossen."
}

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 4. EXECUTION
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# @description Hauptprozess zur AusfÃ¼hrung der Test-Suiten.
# @param $@ Kommandozeilenargumente (derzeit nicht genutzt).
main() {
    # SicherheitsprÃ¼fung: Skript-Lokalisierung verifizieren.
    if [[ ! -f "${SCRIPT_DIR}/dotfilesctl.sh" ]]; then
        echo -e "${COL_RED}${SYMBOL_ERROR}${COL_RESET} Fehler: Test-Suite muss im Root des Dotfiles-Repos liegen." >&2
        exit "$EXIT_FATAL"
    fi

    setup_test_env

    # AusfÃ¼hrung der Test-Cases
    test_install_dry_run
    test_actual_install
    test_idempotency

    echo -e "\n${COL_GREEN}${STYLE_BOLD}ALLE TESTS ERFOLGREICH BESTANDEN!${COL_RESET} ${SYMBOL_OK}"

    test_cleanup
}

main "$@"


### END OF FILE: test_suite.sh

#################################################################
### BEGIN FILE: .gitattributes
#################################################################

#
# FILE: .gitattributes
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ZENTRALE GIT-KONFIGURATION FÃœR ZEILENENDEN (v1.2.1)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:       Erzwingt Unix-Zeilenenden (LF) fÃ¼r Shell-Skripte.
#              Verhindert Korruption der Skripte unter Windows.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 1. Standard-Verhalten
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Automatische Erkennung fÃ¼r Textdateien.
* text=auto

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 2. Shell-Skripte & Dotfiles (Zwingend LF)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Skripte und Bash-Konfigurationen benÃ¶tigen zwingend LF.
*.sh           text eol=lf
.bash* text eol=lf
bashrc         text eol=lf
bashenv        text eol=lf
bashaliases    text eol=lf
bashprompt     text eol=lf
bashfunctions  text eol=lf
.dircolors     text eol=lf
.nanorc        text eol=lf

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 3. Konfigurationen & Daten
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
*.json         text eol=lf
*.jsonc        text eol=lf
*.yml          text eol=lf
*.yaml         text eol=lf
*.toml         text eol=lf
*.conf         text eol=lf
*.ini          text eol=lf
.editorconfig  text eol=lf
.gitignore     text eol=lf
.gitattributes text eol=lf
.shellcheckrc  text eol=lf

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 4. Dokumentation
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
*.md           text eol=lf
*.txt          text eol=lf
LICENSE        text eol=lf
README         text eol=lf

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 5. BinÃ¤rdateien
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
*.png  binary
*.jpg  binary
*.jpeg binary
*.gif  binary
*.ico  binary
*.webp binary
*.pdf  binary
*.zip  binary
*.7z   binary
*.gz   binary
*.tgz  binary

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 6. Windows-spezifische Ausnahmen (Optional)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Falls du Batch oder PowerShell nutzt, die CRLF benÃ¶tigen:
*.bat  text eol=crlf
*.ps1  text eol=crlf


### END OF FILE: .gitattributes

#################################################################
### BEGIN FILE: .gitignore
#################################################################

#
# FILE: .gitignore
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ZENTRALE GIT-IGNORE KONFIGURATION (v1.2.1)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:       Schutz vor sensiblen Daten und System-MÃ¼ll.
#              Sicherstellung der Repository-Sauberkeit.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 1. LOKALE & SENSIBLE DATEN
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Alles, was auf '_local' endet, wird niemals eingecheckt.
*_local
.bash*_local
.bash_history
.bash_sessions/
.env
.netrc
*.key
*.pem

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 2. EDITOR & IDE (VS Code / Nano / Vim)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.vscode/*
!.vscode/settings.json
!.vscode/extensions.json
!.vscode/launch.json
!.vscode/tasks.json
!*.code-workspace

# Editor-Backups und Swap-Files
*.swp
*.swo
*~
*.bak
*.old
*.orig
*.rej
.history/

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 3. SYSTEM-MÃœLL (OS-SPECIFIC)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.DS_Store
Thumbs.db
Desktop.ini
.directory
ehthumbs.db
[Dd]ebin/

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 4. LOGS & TEMPORÃ„RE DATEN (SANDBOX)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Logs und die Zustandsdatei des Controllers
*.log
*.tmp
.dotfiles_state
.nfs*

# Test-Sandbox (Falls test_suite.sh lokal Dateien erzeugt)
test_sandbox/
tests/out/

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 5. WHITELIST (KERN-DATEIEN EXPLIZIT ERLAUBEN)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Wir stellen sicher, dass alle Modul-Dateien trotz obiger Regeln
# (z.B. *.bak oder System-MÃ¼ll) erfasst werden kÃ¶nnen.

# Hauptkomponenten
!dotfilesctl.sh
!test_suite.sh
!.shellcheckrc
!.editorconfig
!.gitattributes
!.gitignore

# Verzeichnisse (Inhalte erlauben)
!lib/
!home/
!docs/
!config/
!config/*.example

# Spezifische Dotfiles in home/
!home/.bash*
!home/.dircolors
!home/.nanorc


### END OF FILE: .gitignore

#################################################################
### BEGIN FILE: config\mc\ini
#################################################################

[Midnight-Commander]
verbose=true
shell_patterns=true
auto_save_setup=true
preallocate_space=false
auto_menu=false
use_internal_view=true
use_internal_edit=false
clear_before_exec=true
confirm_delete=true
confirm_overwrite=true
confirm_execute=false
confirm_history_cleanup=true
confirm_exit=false
confirm_directory_hotlist_delete=false
confirm_view_dir=false
safe_delete=false
safe_overwrite=false
use_8th_bit_as_meta=false
mouse_move_pages_viewer=true
mouse_close_dialog=false
fast_refresh=false
drop_menus=false
wrap_mode=true
old_esc_mode=true
cd_symlinks=true
show_all_if_ambiguous=false
use_file_to_guess_type=true
alternate_plus_minus=false
only_leading_plus_minus=true
show_output_starts_shell=false
xtree_mode=false
file_op_compute_totals=true
classic_progressbar=true
use_netrc=true
ftpfs_always_use_proxy=false
ftpfs_use_passive_connections=true
ftpfs_use_passive_connections_over_proxy=false
ftpfs_use_unix_list_options=true
ftpfs_first_cd_then_ls=true
ignore_ftp_chattr_errors=true
editor_fill_tabs_with_spaces=false
editor_return_does_auto_indent=false
editor_backspace_through_tabs=false
editor_fake_half_tabs=true
editor_option_save_position=true
editor_option_auto_para_formatting=false
editor_option_typewriter_wrap=false
editor_edit_confirm_save=true
editor_syntax_highlighting=true
editor_persistent_selections=true
editor_drop_selection_on_copy=true
editor_cursor_beyond_eol=false
editor_cursor_after_inserted_block=false
editor_visible_tabs=true
editor_visible_spaces=true
editor_line_state=false
editor_simple_statusbar=false
editor_check_new_line=false
editor_show_right_margin=false
editor_group_undo=true
editor_state_full_filename=true
editor_ask_filename_before_edit=false
nice_rotating_dash=true
shadows=true
mcview_remember_file_position=false
auto_fill_mkdir_name=true
copymove_persistent_attr=true
pause_after_run=1
mouse_repeat_rate=100
double_click_speed=250
old_esc_mode_timeout=1000000
max_dirt_limit=10
num_history_items_recorded=60
vfs_timeout=60
ftpfs_directory_timeout=900
ftpfs_retry_seconds=30
fish_directory_timeout=900
editor_tab_spacing=8
editor_word_wrap_line_length=72
editor_option_save_mode=0
editor_backup_extension=~
editor_filesize_threshold=64M
editor_stop_format_chars=-+*\\,.;:&>
mcview_eof=
skin=gotar

filepos_max_saved_entries=1024

[Layout]
output_lines=0
left_panel_size=89
top_panel_size=0
message_visible=true
keybar_visible=true
xterm_title=true
command_prompt=true
menubar_visible=true
free_space=true
horizontal_split=false
vertical_equal=true
horizontal_equal=true

[Misc]
timeformat_recent=%d. %b %H:%M
timeformat_old=%d. %b %Y 
ftp_proxy_host=gate
ftpfs_password=anonymous@
display_codepage=UTF-8
source_codepage=Other_8_bit
autodetect_codeset=
spell_language=en
clipboard_store=
clipboard_paste=

[Colors]
base_color=
linux=
color_terminals=

xterm=

[Panels]
show_mini_info=true
kilobyte_si=false
mix_all_files=false
show_backups=true
show_dot_files=true
fast_reload=false
fast_reload_msg_shown=false
mark_moves_down=true
reverse_files_only=true
auto_save_setup_panels=false
navigate_with_arrows=false
panel_scroll_pages=true
panel_scroll_center=false
mouse_move_pages=true
filetype_mode=true
permission_mode=false
torben_fj_mode=false
quick_search_mode=2
select_flags=6

[Panelize]
GeÃ¤nderte Git-Dateien=git ls-files --modified
Nach *.orig nach dem Patchen suchen=find . -name \\*.orig -print
Nach dem Patchen nach Ablehnungen suchen=find . -name \\*.rej -print
SUID- und SGID-Programme suchen=find . \\( \\( -perm -04000 -a -perm /011 \\) -o \\( -perm -02000 -a -perm /01 \\) \\) -print


### END OF FILE: config\mc\ini

#################################################################
### BEGIN FILE: config\micro\bindings.json
#################################################################

{
    "Alt-/": "lua:comment.comment",
    "Backspace": "Backspace",
    "Ctrl-/": "lua:comment.comment",
    "Ctrl-a": "SelectAll",
    "Ctrl-c": "Copy",
    "Ctrl-d": "SpawnMultiCursor",
    "Ctrl-f": "Find",
    "Ctrl-q": "Quit",
    "Ctrl-s": "Save",
    "Ctrl-v": "Paste",
    "Ctrl-x": "Cut",
    "Ctrl-y": "Redo",
    "Ctrl-z": "Undo",
    "CtrlAlt-Down": "CursorDown",
    "CtrlAlt-Left": "CursorLeft",
    "CtrlAlt-Right": "CursorRight",
    "CtrlAlt-Up": "CursorUp",
    "CtrlShift-c": "RemoveAllMultiCursors",
    "CtrlShift-d": "SkipMultiCursor",
    "CtrlShift-p": "CommandMode",
    "CtrlUnderscore": "lua:comment.comment",
    "Delete": "Delete",
    "F4": "command:jumptag"
}


### END OF FILE: config\micro\bindings.json

#################################################################
### BEGIN FILE: config\micro\settings.json
#################################################################

{
    "clipboard": "internal",
    "colorscheme": "dracula-tc",
    "indentstyle": "spaces",
    "ruler": false,
    "savecursor": true,
    "scrollbar": true,
    "softwrap": true
}


### END OF FILE: config\micro\settings.json

#################################################################
### BEGIN FILE: home\.bashaliases
#################################################################

#
# FILE: home/.bashaliases
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# PLATTFORMÃœBERGREIFENDE ALIASE FÃœR INTERAKTIVE SHELLS
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:    AbkÃ¼rzungen fÃ¼r Navigation, Sicherheit und Tools.
#           Unterscheidet via $PLATFORM zwischen Linux und Windows.
# AbhÃ¤ngigkeiten: Bash >= 4.0, .bashenv (fÃ¼r $PLATFORM).
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# @section Navigation
# Schnelle Verzeichniswechsel ohne unnÃ¶tigen Tippaufwand.
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias -- -='cd -'  # Wechselt zum vorherigen Verzeichnis

# @section LS & Verzeichnis-Listing
# Optimierte Darstellung von Dateien und Ordnern.
if [[ "${PLATFORM:-unknown}" == "linux" ]]; then
    # Linux (Debian/Ubuntu) spezifische Flags
    alias ls='ls --color=auto --group-directories-first'
    alias ll='ls -lah --color=auto --group-directories-first'
elif [[ "${PLATFORM:-unknown}" == "windows" ]]; then
    # Git Bash: --show-control-chars sorgt fÃ¼r korrekte Darstellung von Sonderzeichen/Umlauten
    alias ls='ls --color=auto --show-control-chars --group-directories-first'
    alias ll='ls -lah --color=auto --show-control-chars --group-directories-first'
else
    # Fallback fÃ¼r unbekannte Systeme
    alias ls='ls --color=auto'
    alias ll='ls -la'
fi

alias l='ls -CF'
alias la='ls -A'

# @section Sicherheit (Interaktive BestÃ¤tigung)
# SchÃ¼tzt vor versehentlichem Ãœberschreiben oder LÃ¶schen von Daten.
alias cp='cp -i'
alias mv='mv -i'
alias rm='rm -i'
alias ln='ln -i'

# @section Werkzeug-Verbesserungen
# Standard-Tools mit sinnvolleren Standard-Parametern.
alias grep='grep --color=auto'
alias fgrep='fgrep --color=auto'
alias egrep='egrep --color=auto'
alias df='df -h' # Human-readable (MB/GB statt BlÃ¶cke)
alias du='du -h'

# @section Plattformspezifische Befehle
# Aliase, die nur auf dem jeweiligen Betriebssystem Sinn ergeben.
if [[ "${PLATFORM:-unknown}" == "linux" ]]; then
    # System-Wartung und Steuerung (erfordert sudo)
    alias update='sudo apt update && sudo apt upgrade'
    alias jc='journalctl -xe'
    alias sc='systemctl'
elif [[ "${PLATFORM:-unknown}" == "windows" ]]; then
    # Schneller Zugriff auf Windows-Ressourcen aus der Git Bash
    alias explorer='explorer . '
    alias code='code . '
    # Schneller Sprung in das Windows-Heimatverzeichnis
    alias cuser='cd /c/Users/$USER'
fi

# @section Projekt-Spezifisch
# Zentraler Zugriffspunkt fÃ¼r das Dotfiles-Management-Skript.
# Nutzt dynamisch $HOME, um unabhÃ¤ngig vom absoluten Pfad zu bleiben.
alias dctl="${HOME}/dotfiles/dotfilesctl.sh"

# @section Utilities & Debugging
# Hilfswerkzeuge fÃ¼r die Shell-Konfiguration.
alias reload='source ~/.bashrc && echo "Shell-Konfiguration neu geladen."'
# Zeigt die PATH-Variable Ã¼bersichtlich Zeile fÃ¼r Zeile an
alias path='echo -e ${PATH//:/\\n}'


### END OF FILE: home\.bashaliases

#################################################################
### BEGIN FILE: home\.bashenv
#################################################################

#
# FILE: home/.bashenv
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ZENTRALE UMGEBUNGSVARIABLEN, PFADE UND SHELL-OPTIONEN
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:    Konfiguration des fundamentalen Verhaltens der Shell.
#           Wird von der .bashrc geladen.
# AbhÃ¤ngigkeiten: libcolors.sh (optional fÃ¼r Manpage-Farben).
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# @section 0. FarbauflÃ¶sung (Basis laden)
# LÃ¤dt die atomaren Farbcodes fÃ¼r konsistente UI-Elemente.
DOT_REPO="${DOTFILES_REPO_PATH:-$HOME/.dotfiles}"
COLOR_LIB="${DOT_REPO}/lib/libcolors.sh"

if [[ -f "$COLOR_LIB" ]]; then
    # Wir sourcen die Library, um ESC_START/END und COL_* verfÃ¼gbar zu haben
    # shellcheck disable=SC1090
    source "$COLOR_LIB"
fi

# @section 1. Pfad-Initialisierung
# Erweitert die PATH-Variable um benutzerdefinierte BinÃ¤rverzeichnisse.
if [[ -d "$HOME/bin" ]] ; then
    PATH="$HOME/bin:$PATH"
fi
export PATH

# @section 2. Bash History & Shell-Optionen
# Optimierung des Shell-Verhaltens fÃ¼r effizientes Arbeiten.
export HISTCONTROL="ignoreboth:erasedups"
export HISTIGNORE="la:ll:lah:lat:ls:cd ..:exit:mc:au:fg:bg:jobs:history"
export HISTSIZE=8192
export HISTFILESIZE=16384

shopt -s histappend   # History anhÃ¤ngen statt Ã¼berschreiben
shopt -s cmdhist      # Mehrzeilige Befehle einzeilig speichern
shopt -s cdspell      # Autokorrektur bei Verzeichnisnamen
shopt -s checkwinsize # FenstergrÃ¶ÃŸe nach jedem Befehl prÃ¼fen
shopt -s globstar     # Erlaubt rekursive Suche mit **

# @section 3. Manpages in Farbe (Linux-only)
# Nutzt ANSI-Farben zur Hervorhebung in HandbÃ¼chern via LESS_TERMCAP.
if [[ "${PLATFORM:-unknown}" == "linux" ]]; then
    export MANPAGER="less -s -M +Gg"

    # Nutzung der konsistenten COL_ Variablen aus libcolors.sh
    export LESS_TERMCAP_mb="${ESC_START}${COL_RED}${ESC_END}"      # Blinkend
    export LESS_TERMCAP_md="${ESC_START}${ATTR_BOLD};33${ESC_END}"  # Headlines (Gelb Fett)
    export LESS_TERMCAP_me="${ESC_START}${ATTR_RESET}${ESC_END}"    # Ende aller Modi
    export LESS_TERMCAP_se="${ESC_START}${ATTR_RESET}${ESC_END}"    # Ende Standout
    export LESS_TERMCAP_so="${ESC_START}01;44;33${ESC_END}"         # Statuszeile
    export LESS_TERMCAP_ue="${ESC_START}${ATTR_RESET}${ESC_END}"    # Ende Unterstreichung
    export LESS_TERMCAP_us="${ESC_START}${ATTR_UNDERLINE};32${ESC_END}" # Unterstrichen (GrÃ¼n)
fi

# @section 4. SSH-Erkennung & Locales
# Anpassung fÃ¼r Remote-Sitzungen und ZeichensÃ¤tze.
if [[ -n "${SSH_CONNECTION:-}" ]]; then
    export TMOUT=0
    if [[ "${PLATFORM:-unknown}" == "linux" ]]; then
        export LC_ALL="de_DE.UTF-8"
    else
        export LC_ALL="en_US.UTF-8"
    fi
fi

# @section 5. Host-spezifische Pfade (Linux)
# Individuelle Anpassungen basierend auf dem Hostnamen.
if [[ "${PLATFORM:-unknown}" == "linux" ]]; then
    case "$(hostname)" in
        raspifix) [[ -d "/opt/script" ]] && PATH="$PATH:/opt/script" ;;
        proxmox*) [[ -d "/opt/scripts" ]] && PATH="$PATH:/opt/scripts" ;;
        *backup*) export MAIL_ON_ERROR="root@localhost" ;;
    esac
fi

# @section 6. Tool-Initialisierungen
# Laden von Drittanbieter-Tools (FZF, Dircolors).
if command -v fzf >/dev/null 2>&1 && [[ -f "$HOME/.fzf.bash" ]]; then
    # shellcheck disable=SC1091
    source "$HOME/.fzf.bash"
fi

if [[ "${PLATFORM:-unknown}" == "linux" ]]; then
    if [[ -f "$HOME/.dircolors" ]]; then
        eval "$(dircolors -b "$HOME/.dircolors")"
    elif [[ -f /etc/DIR_COLORS ]]; then
        eval "$(dircolors -b /etc/DIR_COLORS)"
    fi
fi

# @section 7. Lokale Overrides
# Erlaubt systemspezifische Anpassungen ohne das Repo zu verÃ¤ndern.
[[ -f "$HOME/.bash_env_local" ]] && source "$HOME/.bash_env_local"

true


### END OF FILE: home\.bashenv

#################################################################
### BEGIN FILE: home\.bashexports
#################################################################

#
# FILE: home/.bashexports
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# GLOBALE UMGEBUNGSVARIABLEN FÃœR TOOLS UND EDITOREN
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:    Konfiguration von Standard-Editoren, Pagern und Locales.
#           Steuert das Verhalten von Drittanbieter-Anwendungen.
# AbhÃ¤ngigkeiten: .bashenv (fÃ¼r $PLATFORM).
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# @section 1. Standard-Editor & Pager
# Festlegung der Standard-Werkzeuge fÃ¼r Textbearbeitung und Ansicht.
if [[ "${PLATFORM:-unknown}" == "linux" ]]; then
    # Dynamische Editor-Wahl unter Linux (PrioritÃ¤t: micro > nano > vi)
    if command -v micro >/dev/null 2>&1; then
        export EDITOR="micro"
    elif command -v nano >/dev/null 2>&1; then
        export EDITOR="nano"
    else
        export EDITOR="vi"
    fi
else
    # Windows-Spezifische Editoren (Git Bash / MSYS2 Pfade)
    # Bevorzugt Notepad++ oder VS Code, falls im PATH vorhanden
    if command -v notepad++.exe >/dev/null 2>&1; then
        export EDITOR="notepad++.exe"
    elif [[ -f "/c/Program Files/Notepad++/notepad++.exe" ]]; then
        export EDITOR="/c/Program Files/Notepad++/notepad++.exe"
    else
        export EDITOR="notepad.exe"
    fi
fi

# VISUAL wird fÃ¼r Editoren genutzt, die eine UI/Vollbild benÃ¶tigen
export VISUAL="$EDITOR"
export PAGER="less"

# LESS-Optionen:
# -R: Interpretiert ANSI-Farbcodes korrekt (wichtig fÃ¼r farbige Logs/Diffs)
# -F: Beendet less automatisch, wenn der Inhalt auf einen Schirm passt
# -X: Verhindert das LÃ¶schen des Inhalts vom Schirm nach dem Beenden
export LESS="-RFX"

# @section 2. Sprache / Zeichensatz (Locale)
# Sicherstellung einer korrekten Darstellung von Umlauten.
if [[ "${PLATFORM:-unknown}" == "linux" ]]; then
    export LANG="de_DE.UTF-8"
    export LC_ALL="de_DE.UTF-8"
else
    export LANG="en_US.UTF-8"
    export LC_ALL="en_US.UTF-8"
fi

# @section 3. Lokale Erweiterungen
# ErmÃ¶glicht systemspezifische Exporte (z.B. API-Keys), die nicht im Repo landen.
if [[ -f "$HOME/.bash_exports_local" ]]; then
    # shellcheck disable=SC1091
    source "$HOME/.bash_exports_local"
fi

true


### END OF FILE: home\.bashexports

#################################################################
### BEGIN FILE: home\.bashfunctions
#################################################################

#
# FILE: home/.bashfunctions
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# SAMMLUNG NÃœTZLICHER SHELL-FUNKTIONEN
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:    Erweiterte Logik fÃ¼r Suche, Archivierung und System-
#           Status. Optimiert fÃ¼r Linux und Windows (Git-Bash).
# AbhÃ¤ngigkeiten: .bashenv (fÃ¼r $PLATFORM), libcolors.sh (empfohlen).
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# @section Suche & Finden

# @description Schnelle Dateisuche im aktuellen Verzeichnis (case-insensitive).
# @param $1 Suchbegriff (Teil des Dateinamens).
# @stdout Liste der gefundenen Pfade.
f() {
    if [[ $# -eq 0 ]]; then
        echo "Usage: f <dateiname>"
        return 1
    fi
    find . -type f -iname "*$1*"
}

# @description Rekursive Textsuche in Dateien, ignoriert BinÃ¤rdaten.
# @param $1 Suchbegriff oder Regular Expression.
# @stdout Zeilen mit Fundstellen inklusive Dateinamen und Zeilennummer.
grepr() {
    if [[ $# -eq 0 ]]; then
        echo "Usage: grepr <suchbegriff>"
        return 1
    fi
    grep -rnI "$1" .
}

# @section Archivierung & Packen

# @description Intelligentes Entpacken verschiedenster Archivtypen.
# @param $1 Pfad zum Archiv.
# @stdout Status des Entpackvorgangs.
extract() {
    if [[ -f "$1" ]]; then
        case "$1" in
            *.tar.bz2)   tar xjf "$1"     ;;
            *.tar.gz)    tar xzf "$1"     ;;
            *.bz2)       bunzip2 "$1"     ;;
            *.rar)       unrar x "$1"     ;;
            *.gz)        gunzip "$1"      ;;
            *.tar)       tar xf "$1"      ;;
            *.tbz2)      tar xjf "$1"     ;;
            *.tgz)       tar xzf "$1"     ;;
            *.zip)       unzip "$1"       ;;
            *.Z)         uncompress "$1"  ;;
            *.7z)        7z x "$1"        ;;
            *)           echo "'$1' kann nicht via extract() entpackt werden." ;;
        esac
    else
        echo "'$1' ist keine gÃ¼ltige Datei."
        return 1
    fi
}

# @section Netzwerk-Helfer

# @description Zeigt die lokale und Ã¶ffentliche IP-Adresse an.
# @stdout Lokale IP (Interface) und Ã¶ffentliche IP (via ifconfig.me).
myip() {
    echo -n "Lokale IP: "
    if [[ "${PLATFORM:-unknown}" == "linux" ]]; then
        hostname -I | awk '{print $1}'
    elif [[ "${PLATFORM:-unknown}" == "windows" ]]; then
        ipconfig | grep -i "IPv4" | awk -F: '{ print $2 }' | head -n 1 | sed 's/^[ \t]*//'
    fi

    if command -v curl >/dev/null 2>&1; then
        echo -n "Ã–ffentliche IP: "
        curl -s https://ifconfig.me
        echo ""
    fi
}

# @section Plattform-Spezifische Helfer

if [[ "${PLATFORM:-unknown}" == "linux" ]]; then
    # @description Listet die 10 Prozesse mit dem hÃ¶chsten Speicherverbrauch.
    top_mem() {
        ps auxf | sort -nr -k 4 | head -n 10
    }

    # @description Listet die 10 Prozesse mit der hÃ¶chsten CPU-Last.
    top_cpu() {
        ps auxf | sort -nr -k 3 | head -n 10
    }

elif [[ "${PLATFORM:-unknown}" == "windows" ]]; then
    # @description Wandelt Windows-Pfade in Unix-Pfade um.
    # @param $1 Windows-Pfad (optional). Nutzt Clipboard, wenn leer.
    # @stdout Konvertierter Unix-Pfad.
    upath() {
        if [[ -z "${1:-}" ]]; then
            # PowerShell zur Clipboard-Abfrage (robusterer Aufruf)
            local clip
            clip=$(powershell.exe -NoProfile -Command "Get-Clipboard" 2>/dev/null | tr -d '\r')
            [[ -n "$clip" ]] && cygpath -u "$clip" || echo "Zwischenablage leer."
        else
            cygpath -u "$1"
        fi
    }
fi

# @section System-Status

# @description Kurzer IntegritÃ¤tscheck der Systemressourcen.
# @stdout Zusammenfassung von Datum, User, Uptime und Disk-Usage.
health() {
    echo "--- System Health Check ---"
    echo -n "Datum:  " && date
    echo -n "User:   " && whoami
    echo -n "Uptime: " && uptime -p

    if [[ "${PLATFORM:-unknown}" == "linux" ]]; then
        echo "Disk Usage:"
        df -h / | tail -n 1
    elif [[ "${PLATFORM:-unknown}" == "windows" ]]; then
        echo "Disk Usage (C:):"
        df -h /c | tail -n 1
    fi
}

# @section Datei- & Verzeichnis-Manipulation

# @description Erstellt ein Verzeichnis und wechselt sofort hinein.
# @param $1 Name oder Pfad des Verzeichnisses.
mkd() {
    if [[ -z "${1:-}" ]]; then
        echo "Usage: mkd <verzeichnis>"
        return 1
    fi
    mkdir -p "$1" && cd "$1"
}

true


### END OF FILE: home\.bashfunctions

#################################################################
### BEGIN FILE: home\.bashprompt
#################################################################

#
# FILE: home/.bashprompt
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# KONFIGURATION DES SHELL-PROMPTS (PS1)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:    Visuelle Darstellung der Befehlszeile mit Status-Infos
#           zu User, Host, Verzeichnis und Git-Branch.
# AbhÃ¤ngigkeiten: .bashenv, libcolors.sh.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# @section 1. Git-Status Integration
# Extrahiert den aktuellen Branch-Namen, falls man sich in einem Repo befindet.
# @stdout Formatiert "(branch)" in Gelb oder nichts.
__bash_prompt_git_branch() {
    local branch
    if branch=$(git symbolic-ref --short HEAD 2>/dev/null); then
        echo -e " ${COL_YELLOW}(${branch})${COL_RESET}"
    elif branch=$(git rev-parse --short HEAD 2>/dev/null); then
        echo -e " ${COL_YELLOW}(${branch:0:7}...)${COL_RESET}"
    fi
}

# @section 2. Prompt-Konstruktion (PS1)
# Setzt die PS1-Variable basierend auf der Plattform und dem User-Status.
# Formatelemente:
# \u : Benutzername
# \h : Hostname (kurz)
# \w : Aktueller Pfad (komplett, mit ~ fÃ¼r Home)
# \$ : # fÃ¼r Root, $ fÃ¼r User
set_bash_prompt() {
    local user_color host_color path_color prompt_char_color

    # Farbwahl basierend auf User-Rechten
    if [[ "$EUID" -eq 0 ]]; then
        user_color="${COL_RED}"   # Warnfarbe fÃ¼r Root
    else
        user_color="${COL_GREEN}" # Standard fÃ¼r User
    fi

    # Plattformspezifische Akzente
    if [[ "${PLATFORM:-unknown}" == "windows" ]]; then
        host_color="${COL_CYAN}"
    else
        host_color="${COL_BLUE}"
    fi

    path_color="${COL_MAGENTA}"
    prompt_char_color="${COL_WHITE}"

    # Zusammensetzung des Prompts:
    # [User@Host:Path] (git-branch) $
    PS1="\[${user_color}\]\u\[${COL_RESET}\]"       # User
    PS1+="\[${COL_WHITE}\]@\[${COL_RESET}\]"        # @
    PS1+="\[${host_color}\]\h\[${COL_RESET}\]"      # Host
    PS1+="\[${COL_WHITE}\]:\[${COL_RESET}\]"        # :
    PS1+="\[${path_color}\]\w\[${COL_RESET}\]"      # Path

    # Git-Integration (als Funktion ausgefÃ¼hrt beim Rendern)
    # Hinweis: Wir nutzen hier eine einfache Einbindung, fÃ¼r maximale
    # Performance kÃ¶nnte man PROMPT_COMMAND nutzen.
    PS1+="\$(__bash_prompt_git_branch)"

    PS1+=" \n"                                      # Neue Zeile fÃ¼r mehr Platz
    PS1+="\[${prompt_char_color}\]\$ \[${COL_RESET}\]" # Prompt-Zeichen ($ oder #)
}

# @section 3. AusfÃ¼hrung
# Initialisierung des Prompts beim Laden der Datei.
set_bash_prompt

# @section 4. Terminal-Titel (Xterm/Window-Title)
# Setzt den Titel des Terminal-Fensters auf [User@Host: Path]
case "$TERM" in
    xterm*|rxvt*)
        PS1="\[\e]0;\u@\h: \w\a\]$PS1"
        ;;
esac

# Cleanup der internen Funktion (optional, falls nicht mehr benÃ¶tigt)
# unset -f set_bash_prompt

true


### END OF FILE: home\.bashprompt

#################################################################
### BEGIN FILE: home\.bashrc
#################################################################

#!/usr/bin/env bash
#
# FILE: home/.bashrc
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# HAUPT-KONFIGURATIONSFILE FÃœR INTERAKTIVE SHELLS (v1.2.1)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:       Zentrale Orchestrierung der Shell-Umgebung.
#              Erkennt Plattformen (Win/Lin) und lÃ¤dt Module.
# Standards:   Shellcheck-konform, Idempotent, Sicher.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 0. INTERAKTIVITÃ„TS-CHECK
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Beendet die AusfÃ¼hrung sofort, wenn die Shell nicht interaktiv ist
# (wichtig fÃ¼r scp, rsync und automatisierte Skripte).
case "$-" in
    *i*) ;; # Interaktiv -> Fortfahren
    *) return ;;
esac

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 1. PLATTFORM-SPEZIFIKATION & FIXES
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Windows (Git Bash / MSYS2) spezifische Vorbereitung fÃ¼r Symlinks.
if [[ "$OSTYPE" == msys* || "$OSTYPE" == cygwin* ]]; then
    export MSYS="winsymlinks:nativestrict"
fi

# Zentrale Variable fÃ¼r plattformabhÃ¤ngige Logik in Untermodulen.
case "$(uname -s)" in
    Linux)                  export PLATFORM="linux" ;;
    MINGW*|MSYS*|CYGWIN*)   export PLATFORM="windows" ;;
    *)                      export PLATFORM="unknown" ;;
esac

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 2. MODUL-ORCHESTRIERUNG
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# LÃ¤dt die Teilkonfigurationen in einer logischen Reihenfolge.
# 1. Env/Path -> 2. Exports -> 3. Prompt -> 4. Aliase -> 5. Funktionen
readonly BASH_MODULES=(
    "$HOME/.bashenv"
    "$HOME/.bashexports"
    "$HOME/.bashprompt"
    "$HOME/.bashaliases"
    "$HOME/.bashfunctions"
)

for file in "${BASH_MODULES[@]}"; do
    if [[ -f "$file" ]]; then
        # shellcheck disable=SC1090
        if ! source "$file"; then
            echo -e "\e[31m[!] Fehler beim Laden von: $(basename "$file")\e[0m" >&2
        fi
    fi
done

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 3. PROMPT-INITIALISIERUNG
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Ruft die Prompt-Funktion aus .bashprompt auf.
if command -v set_bash_prompt >/dev/null 2>&1; then
    set_bash_prompt
else
    # Simpler Fallback-Prompt fÃ¼r den Notfall
    PS1='\[\e[32m\]\u@\h\[\e[0m\]:\[\e[34m\]\w\[\e[0m\]\$ '
fi

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 4. AUTO-COMPLETION (BASH & GIT)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Aktiviert die intelligente BefehlsvervollstÃ¤ndigung.
if ! shopt -oq posix; then
    readonly BC_PATHS=(
        "/usr/share/bash-completion/bash_completion"
        "/etc/bash_completion"
        "/usr/share/git/completion/git-completion.bash"
        "/usr/share/bash-completion/completions/git"
    )

    for bc in "${BC_PATHS[@]}"; do
        if [[ -f "$bc" ]]; then
            # shellcheck disable=SC1090
            source "$bc"
        fi
    done
fi

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 5. LOKALE ANPASSUNGEN & EDITOR-FIXES
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Deaktiviert XON/XOFF Flow Control (erlaubt Ctrl+S in Nano).
stty -ixon 2>/dev/null

# LÃ¤dt optionale, systemspezifische Overrides (nicht im Git).
[[ -f "$HOME/.bashrc_local" ]] && source "$HOME/.bashrc_local"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ABSCHLUSS
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Sicherstellen, dass die Datei immer mit Erfolg (0) endet.
true


### END OF FILE: home\.bashrc

#################################################################
### BEGIN FILE: home\.dircolors
#################################################################

#
# FILE: home/.dircolors
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# KONFIGURATION DER FARBEN FÃœR LS (DIRCOLORS)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:    Optimierte Farbdarstellung fÃ¼r Linux und Windows.
#           Verhindert grelle HintergrÃ¼nde unter Git Bash.
# Anwendung: eval "$(dircolors -b ~/.dircolors)"
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

TERM xterm
TERM xterm-256color
TERM screen-256color

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 1. STANDARD-TYPEN
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
NORMAL 00           # Standard
FILE 00             # Normale Datei
DIR 01;34           # Verzeichnis (Bold Blue)
LINK 01;36          # Symlink (Bold Cyan)
MULTIHARDLINK 00
FIFO 40;33
SOCK 01;35
DOOR 01;35
BLK 40;33;01
CHR 40;33;01
ORPHAN 40;31;01     # Broken Symlink (Red Background)
MISSING 00
EXEC 01;32          # AusfÃ¼hrbare Datei (Bold Green)

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 2. PERMISSIONS (WINDOWS/LINUX OPTIMIERT)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SETUID 37;41
SETGID 30;43
CAPABILITY 30;41
STICKY 37;44

# @fix: Unter Windows/Git Bash sind oft alle Dateien "Other Writable".
# Wir entfernen den grellen grÃ¼nen Hintergrund und nutzen nur blaue Schrift.
STICKY_OTHER_WRITABLE 01;34;40  # Bold Blue auf schwarzem Grund
OTHER_WRITABLE 01;34;40         # Bold Blue auf schwarzem Grund

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 3. ARCHIVE & PAKETE (Bold Red)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.tar 01;31
.tar.gz 01;31
.tgz 01;31
.tar.bz2 01;31
.tar.xz 01;31
.tar.zst 01;31
.zip 01;31
.gz 01;31
.bz2 01;31
.xz 01;31
.7z 01;31
.rar 01;31
.rpm 01;31
.deb 01;31
.iso 01;31

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 4. QUELLCODE & SCRIPTS (Bold Green)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.sh 01;32
.bash 01;32
.py 01;32
.c 01;32
.cpp 01;32
.js 01;32
.ts 01;32
.go 01;32
.rs 01;32
.ps1 01;32
.bat 01;32
.exe 01;32
Makefile 01;32
makefile 01;32

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 5. KONFIGURATION (Yellow)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.yml 00;33
.yaml 00;33
.json 00;33
.toml 00;33
.conf 00;33
.env 00;33
*rc 00;33
.gitignore 00;33

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 6. DOKUMENTATION (White / Bold White)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
README 01;37
README.md 01;37
LICENSE 01;37
.md 00;37
.txt 00;37
.pdf 00;37

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 7. MULTIMEDIA (Magenta / Cyan / Yellow)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Bilder (Magenta)
.jpg 01;35
.jpeg 01;35
.png 01;35
.gif 01;35
.svg 01;35
.webp 01;35
# Audio (Cyan)
.mp3 01;36
.flac 01;36
.wav 01;36
# Video (Yellow)
.mp4 01;33
.mkv 01;33
.avi 01;33

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 8. LOGS & BACKUPS (Red / Grey)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.log 00;31
.err 00;31
.bak 01;30
.old 01;30
.swp 01;30
*~ 01;30


### END OF FILE: home\.dircolors

#################################################################
### BEGIN FILE: home\.nanorc
#################################################################

#
# FILE: home/.nanorc
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# GNU NANO KONFIGURATION (v1.2.1)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Zweck:       Modernisierung der Steuerung und visuelle Optimierung.
# KompatibilitÃ¤t: Linux (Bash/Zsh) & Windows (Git Bash).
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 1. EDITOR-VERHALTEN & FORMATIERUNG
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
set autoindent          # EinrÃ¼ckung beibehalten
set tabsize 4           # Synchron zu .editorconfig
set tabstospaces        # Leerzeichen statt Hard-Tabs
set softwrap            # Zeilenumbruch nur visuell
set atblanks            # Umbruch an Wortgrenzen
set zap                 # Backspace lÃ¶scht markierte BlÃ¶cke
set noconvert           # Zeilenenden (LF/CRLF) beim Ã–ffnen respektieren
set magic               # Erweiterte Dateityperkennung
set locking             # Schreibschutz-Dateien (.swp) aktivieren

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 2. INTERFACE (UI) & VISUALS
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
set linenumbers         # Zeilennummern einblenden
set constantshow        # Cursor-Position permanent anzeigen
set indicator           # Scrollbar anzeigen
set minibar             # Kompakte Statusleiste (mehr Platz fÃ¼r Code)
set stateflags          # Zeigt Speichermodus und Modifikationen an
set showcursor          # Cursor auch in MenÃ¼s sichtbar

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 3. HISTORIE & POSITIONIERUNG
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
set historylog          # Such-Historie speichern
set positionlog         # Letzte Cursor-Position beim Ã–ffnen wiederherstellen

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 4. SYNTAX-HIGHLIGHTING (PLATFORM-AWARE)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Versucht die Standardpfade fÃ¼r Linux und Git Bash einzubinden.
include "/usr/share/nano/*.nanorc"
include "/usr/share/nano-syntax-highlighting/*.nanorc"
# Git Bash spezifisch
include "/etc/nanorc"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 5. MODERN BINDINGS (SHORTCUTS)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# WICHTIG: Erfordert 'stty -ixon' in der .bashrc fÃ¼r ^S/^Q Support.

bind M-C copy main           # Alt+C: Kopieren
bind M-V paste all          # Alt+V: EinfÃ¼gen
bind ^F whereis all         # Ctrl+F: Suchen
bind ^H replace main        # Ctrl+H: Ersetzen
bind ^S savefile main       # Ctrl+S: Schnellspeichern
bind ^Q exit all            # Ctrl+Q: Beenden
bind ^Z undo main           # Ctrl+Z: RÃ¼ckgÃ¤ngig
bind ^Y redo main           # Ctrl+Y: Wiederholen
bind ^D zap main            # Ctrl+D: Zeichen/Block lÃ¶schen (ohne Cut)

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 6. DESIGN (FARBSCHEMA)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Farblich abgestimmt auf libcolors.sh
set titlecolor black,cyan
set statuscolor black,cyan
set keycolor white,blue
set numbercolor yellow,normal
set errorcolor white,red
set selectedcolor black,white


### END OF FILE: home\.nanorc


# CHECKSUM SHA256: 3820db9c23789604e91ecee87ba774dbd8aed30b1c5237da0e801a77e7fb392b
