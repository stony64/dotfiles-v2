======================================================================
CODE REVIEW DUMP - Generated: 01/06/2026 00:05:17
ORDER: DOCS -> COLORS -> CONSTANTS -> LIBS -> MAIN
======================================================================
File Path                                               |    Lines
----------------------------------------------------------------------
docs\docs_styleguide_bash.md                            |       46
docs\docs_styleguide_general.md                         |       41
docs\install.md                                         |       81
lib\libcolors.sh                                        |       42
lib\libconstants.sh                                     |       71
lib\libchecks.sh                                        |      104
lib\libcommon.sh                                        |       59
lib\libengine.sh                                        |      120
lib\libplatform_linux.sh                                |       37
lib\libplatform_windows.sh                              |       63
dotfilesctl.sh                                          |      235
home\.bashaliases                                       |       61
home\.bashenv                                           |       95
home\.bashexports                                       |       42
home\.bashfunctions                                     |      116
home\.bashprompt                                        |       77
home\.bashrc                                            |      111
home\.dircolors                                         |      208
home\.nanorc                                            |       80
----------------------------------------------------------------------
TOTAL (19 Files)                                        |     1689
======================================================================



#################################################################
### BEGIN FILE: docs\docs_styleguide_bash.md
#################################################################

# ðŸš Bash Code Style Guide (dotfiles.git)

Version 1.2 | Stand: 2026-01-05

Dieser Guide ist verbindlich fÃ¼r `dotfilesctl.sh` und alle Dateien unter `lib/*.sh`. Er zielt auf maximale PortabilitÃ¤t zwischen Linux und Windows (Git Bash) ab.

## âš™ï¸ Interpreter & Strict Mode

- **Shebang:** `#!/usr/bin/env bash`.
- **Strict Mode:** `set -euo pipefail` (nur im Entry-Point `dotfilesctl.sh`).
- **Libraries:** Enden immer mit `true`. Sie sind **source-bare** (keine direkten Aktionen beim Laden, nur Funktionsdefinitionen).

## ðŸ“ Repository Architektur & Sourcing-Reihenfolge

Die Ladereihenfolge ist strikt einzuhalten, um AbhÃ¤ngigkeiten aufzulÃ¶sen:

1. `libcolors.sh`: Atomare ANSI-Definitionen.
2. `libconstants.sh`: Zusammengesetzte UI-Elemente und Pfade.
3. `libcommon.sh`: Basisfunktionen (Logging, Wrapper).
4. Funktions-Module (`libengine.sh`, `libchecks.sh`, etc.).

## ðŸ“› Benennung & Variablen

- **Funktionen:** `Modulname_Funktionsname` (z. B. `engine_install_home`).
- **Konstanten:** `UPPER_SNAKE_CASE` und konsequent als `readonly` deklarieren.
- **Scope:** Variablen in Funktionen **zwingend** mit `local` deklarieren.
- **Quoting:** Variablen immer in Double-Quotes: `"${VARIABLE}"`.
- **Pfade:** Keine relativen Pfade in Libs; immer `${REPO_ROOT}/...` oder `${HOME}/...` verwenden.

## ðŸŽ¨ UI & Farben

- **Keine Hardcodierten Farben:** Farben dÃ¼rfen niemals direkt als `\e[31m` im Code stehen.
- **Abstraktion:** Nutze `COL_RED` fÃ¼r Farben und `LOG_PREFIX_ERROR` fÃ¼r Statusmeldungen.
- **Symbole:** Nutze `SYMBOL_OK`, `SYMBOL_WARN`, `SYMBOL_ERROR` fÃ¼r konsistente ASCII-Ausgaben.

## ðŸš¦ Exit-Codes & Fehlerbehandlung

- Nutze die Konstanten: `EXIT_OK` (0), `EXIT_FATAL` (1), `EXIT_WARN` (2).
- **Fehlerabbruch:** Kritische Fehler werden mit `die "Nachricht"` beendet (schreibt nach stderr und exit 1).
- **Validierung:** Nutze `require_cmd`, um AbhÃ¤ngigkeiten vor der AusfÃ¼hrung zu prÃ¼fen.

## ðŸ›¡ï¸ Sicherheit & Idempotenz

- **Mutationen:** Alle schreibenden Befehle (cp, ln, rm, mv) mÃ¼ssen Ã¼ber den `run`-Wrapper ausgefÃ¼hrt werden.
- **ZustandsprÃ¼fung:** Vor dem Erstellen eines Symlinks muss geprÃ¼ft werden, ob dieser bereits existiert und korrekt verlinkt ist (`canon_path`).
- **Backup-Policy:** Bestehende Ordner in `~/.config/` werden vor dem Ãœberschreiben nach `.bak` verschoben, niemals ungefragt gelÃ¶scht.


### END OF FILE: docs\docs_styleguide_bash.md

#################################################################
### BEGIN FILE: docs\docs_styleguide_general.md
#################################################################

# ðŸŽ¨ Styleguide & Standards (Allgemein)

Version 1.1 | Stand: 2026-01-05

Dieser Guide definiert die technischen Standards fÃ¼r die Formatierung und Struktur aller Dateien in diesem Repository.

## ðŸ›  Allgemeine Datei-Standards

Alle Textdateien mÃ¼ssen diesen Grundregeln entsprechen:

- **Kodierung:** `UTF-8` (ohne BOM).
- **Zeilenenden:** `LF` (Unix-Standard). CRLF ist nur fÃ¼r `.bat` und `.ps1` erlaubt.
- **Abschluss:** Jede Datei muss mit einer leeren Zeile enden (*Final Newline*).
- **EinrÃ¼ckung:**
  - Standard: `4 Leerzeichen`.
  - YAML / JSON: `2 Leerzeichen`.
  - Keine Tabs verwenden.

## ðŸ“ Markdown Dokumentation

Die Dokumentation folgt strikten Struktur-Regeln:

### Struktur

- **MD025:** Genau eine H1-Ãœberschrift pro Datei.
- **Hierarchie:** Ãœberschriften stufenweise (H1 â†’ H2 â†’ H3).
- **Listen:** Geordnete Listen beginnen immer mit `1.`.

### Formatierung

- **Harte ZeilenumbrÃ¼che:** Zwei Leerzeichen am Zeilenende.
- **Code-BlÃ¶cke:** Immer mit Sprachangabe (z. B. ` ```bash `).

## ðŸ“‚ Lokale Anpassungen (*.local)

- **Globale Dateien:** Logik-Dateien (z. B. `.bashrc`) im Repo.
- **Lokale Dateien:** System-spezifische Daten (z. B. `.bash_env_local`).
- **Sicherheit:** Endungen `_local` oder `.local` werden ignoriert und niemals hochgeladen.

---
*Dieser Styleguide ist bindend fÃ¼r alle BeitrÃ¤ge.*


### END OF FILE: docs\docs_styleguide_general.md

#################################################################
### BEGIN FILE: docs\install.md
#################################################################

# ðŸ›  Installations-Handbuch

Diese Anleitung beschreibt die Installation und Verwaltung der Dotfiles mithilfe des zentralen Steuerungsskripts `dotfilesctl.sh`.

## ðŸ“‹ Voraussetzungen

Bevor du beginnst, stelle sicher, dass die folgenden Bedingungen erfÃ¼llt sind:

* **Linux:**
* `git` und `bash >= 4.0` mÃ¼ssen installiert sein.
* FÃ¼r die Installation (`--all-users` oder `--user`) sind **Root-Rechte** (sudo) erforderlich, um auf die Home-Verzeichnisse anderer Benutzer zuzugreifen.


* **Windows:**
* Der **Entwicklermodus** muss in den Windows-Einstellungen aktiviert sein.
* **Wichtig:** Wenn der Entwicklermodus aktiv ist, benÃ¶tigt die Git Bash **keine** Administratorrechte mehr, um Symlinks zu erstellen.



---

## ðŸš€ Befehle und Verwendung

Das Skript `dotfilesctl.sh` bietet volle Kontrolle Ã¼ber den Installationsprozess.

### 1. Testlauf (Dry Run)

Bevor echte Ã„nderungen vorgenommen werden, empfiehlt sich eine Simulation. Es werden keine Dateien verÃ¤ndert, nur die geplanten Schritte ausgegeben.

```bash
# Linux: Simulation fÃ¼r alle erkannten Benutzer
sudo ./dotfilesctl.sh install --dry-run --all-users

# Windows: Simulation fÃ¼r den aktuellen Benutzer
./dotfilesctl.sh install --dry-run

```

### 2. Echte Installation

FÃ¼hre die VerknÃ¼pfung der Dateien durch, wenn der Dry-Run fehlerfrei war.

```bash
# Linux: Installation fÃ¼r alle (Human-User ab UID 1000 + Root)
sudo ./dotfilesctl.sh install --all-users

# Windows: Lokale Installation
./dotfilesctl.sh install

```

---

## ðŸ” Funktionsweise

Das Skript arbeitet nach dem Prinzip der **Idempotenz** und nutzt **Symbolische VerknÃ¼pfungen (Symlinks)**:

1. **Scan:** Es prÃ¼ft die Dateien im Verzeichnis `home/` gegen die `DOTFILES_WHITELIST`.
2. **Link:** Es erstellt einen Link (z. B. `~/.bashrc` -> `/opt/dotfiles/home/.bashrc`).
3. **Schutz:** Existiert bereits eine echte Datei (kein Link), wird diese **nicht** Ã¼berschrieben (SKIP). Du erhÃ¤ltst eine Warnung und musst die Datei manuell sichern/lÃ¶schen.
4. **Runtime-Configs:** Verzeichnisse in `config/` (z. B. fÃ¼r den Editor `micro`) werden nach `~/.config/` kopiert. Falls dort bereits Daten liegen, erstellt das Skript automatisch ein `.bak` Backup.

---

## ðŸ›  Fehlerbehebung (Doctor-Mode)

Sollten Probleme auftreten, nutze den integrierten Diagnose-Modus:

```bash
./dotfilesctl.sh doctor

```

Dieser Befehl kombiniert den System-Check (Tools, Pfade, Rechte) mit einer Validierung aller gesetzten Symlinks.

---

## âš ï¸ Sicherheitshinweise

* **Sensible Daten:** Schreibe niemals PasswÃ¶rter oder API-Keys in die Repository-Dateien.
* **Lokale Dateien:** Nutze fÃ¼r Geheimnisse die Dateien mit der Endung `.local` (z.B. `.bashenv_local`), welche automatisch von Git ignoriert werden.


### END OF FILE: docs\install.md

#################################################################
### BEGIN FILE: lib\libcolors.sh
#################################################################

# FILE: lib/libcolors.sh
#!/usr/bin/env bash
#
# Rohe ANSI-Farbcodes und Attribute ohne Shell-spezifische Wrapper.
# Dient als atomare Basis fuer libconstants.sh und Shell-Prompts.

# --- Text-Attribute ---
ATTR_RESET='0'
ATTR_BOLD='1'
ATTR_DIM='2'
ATTR_ITALIC='3'
ATTR_UNDERLINE='4'
ATTR_BLINK='5'
ATTR_REVERSE='7'
ATTR_INVISIBLE='8'

# --- Vordergrund-Farben (Standard) ---
CLR_BLACK='0;30'
CLR_RED='0;31'
CLR_GREEN='0;32'
CLR_YELLOW='0;33'
CLR_BLUE='0;34'
CLR_MAGENTA='0;35'
CLR_CYAN='0;36'
CLR_WHITE='0;37'

# --- Hintergrund-Farben ---
# Hilfreich fuer Statuszeilen (z.B. in 'less' oder 'mc')
BG_BLACK='40'
BG_RED='41'
BG_GREEN='42'
BG_YELLOW='43'
BG_BLUE='44'
BG_MAGENTA='45'
BG_CYAN='46'
BG_WHITE='47'

# --- Steuerzeichen ---
ESC_START='\e['
ESC_END='m'

true


### END OF FILE: lib\libcolors.sh

#################################################################
### BEGIN FILE: lib\libconstants.sh
#################################################################

# FILE: lib/libconstants.sh
#!/usr/bin/env bash
#
# Zentrale Konstanten und Konfigurationen.
# Definiert das Datenmodell (Whitelists), Exit-Codes und UI-Farben.
# Hinweis: Library ist source-bare. Erbt REPO_ROOT vom Entry-Point.

# --- Basis-Farben laden ---
# Erwartet CLR_*, ATTR_*, ESC_START und ESC_END aus libcolors.sh
source "${REPO_ROOT}/lib/libcolors.sh"

# --- Exit Codes ---
readonly EXIT_OK=0
readonly EXIT_FATAL=1
readonly EXIT_WARN=2

# --- UI / Symbole (ASCII-safe) ---
# MUSS vor den Log-PrÃ¤fixen definiert werden!
readonly SYMBOL_OK="[ OK ]"
readonly SYMBOL_ERROR="[  X  ]"
readonly SYMBOL_WARN="[  i  ]"

# --- CLI-Farben (Assemblierung aus Rohdaten) ---
readonly COL_RED="${ESC_START}${CLR_RED}${ESC_END}"
readonly COL_GREEN="${ESC_START}${CLR_GREEN}${ESC_END}"
readonly COL_YELLOW="${ESC_START}${CLR_YELLOW}${ESC_END}"
readonly COL_BLUE="${ESC_START}${CLR_BLUE}${ESC_END}"
readonly COL_MAGENTA="${ESC_START}${CLR_MAGENTA}${ESC_END}"
readonly COL_CYAN="${ESC_START}${CLR_CYAN}${ESC_END}"
readonly COL_RESET="${ESC_START}${CLR_RESET}${ESC_END}"

# --- Log-Formatierung ---
readonly LOG_PREFIX_INFO="${COL_GREEN}${SYMBOL_OK}${COL_RESET}"
readonly LOG_PREFIX_WARN="${COL_YELLOW}${SYMBOL_WARN}${COL_RESET}"
readonly LOG_PREFIX_ERROR="${COL_RED}${SYMBOL_ERROR}${COL_RESET}"

# --- Erweiterte Stile (z.B. fuer Manpages oder Headlines) ---
# Nutzt jetzt die ATTR_* Konstanten statt Hardcoding
readonly STYLE_BOLD_YELLOW="${ESC_START}${ATTR_BOLD};33${ESC_END}"
readonly STYLE_UNDERLINE_GREEN="${ESC_START}${ATTR_UNDERLINE};32${ESC_END}"
readonly STYLE_HEADER_BG="${ESC_START}${ATTR_BOLD};${BG_BLUE};33${ESC_END}"

# --- Pfade & Repo-Struktur ---
readonly REPO_HOME_DIR="home"
readonly REPO_CONFIG_DIR="config"

# --- Home-Dotfiles (Symlink Whitelist) ---
readonly DOTFILES_WHITELIST=(
    ".bashrc"
    ".bashexports"
    ".bashenv"
    ".bashprompt"
    ".bashaliases"
    ".bashfunctions"
    ".bashwartung"
    ".dircolors"
    ".nanorc"
)

# --- Shell-Verhalten ---
readonly SHELL_TMOUT_SSH=0        # 0 = Deaktiviert (fÃ¼r SSH-Connections)
readonly HIST_SIZE_INTERNAL=8192
readonly HIST_FILE_SIZE_INTERNAL=16384

# --- Runtime-Configs (Copy Whitelist) ---
readonly RUNTIME_CONFIGS=(
    "mc"
    "micro"
)

true


### END OF FILE: lib\libconstants.sh

#################################################################
### BEGIN FILE: lib\libchecks.sh
#################################################################

# FILE: lib/libchecks.sh
#!/usr/bin/env bash
#
# Read-only Pruefungen fuer System-Health und Symlink-Status.
# Hinweis: Library ist source-bare. Erbt Konstanten und Log-Funktionen.

# Liefert einen kanonischen (absoluten) Pfad.
canon_path() {
    local p="$1"
    # Falls es ein Link ist, loesen wir ihn erst auf
    if [[ -L "$p" ]]; then
        p=$(readlink -f "$p" 2>/dev/null || realpath "$p" 2>/dev/null || echo "$p")
    fi

    # Absolute Pfad-Aufloesung
    if has_cmd readlink && readlink -f / >/dev/null 2>&1; then
        readlink -f "$p" 2>/dev/null
    elif has_cmd realpath; then
        realpath "$p" 2>/dev/null
    else
        printf '%s\n' "$p"
    fi
}

checks_health() {
    local home_dir="$1" user_name="$2" repo_root="$3"
    local fatal_errors=0

    log_info "Health Check fuer $user_name ($home_dir):"

    # Pruefung benoetigter Tools
    local cmd
    for cmd in git ln rm mkdir cp; do
        if has_cmd "$cmd"; then
            echo -e "    ${COL_GREEN}${SYMBOL_OK}${COL_RESET} Befehl '$cmd' gefunden."
        else
            log_error "Befehl '$cmd' fehlt auf dem System."
            ((fatal_errors++))
        fi
    done

    # Verzeichnis-Checks
    if [[ ! -d "$repo_root" ]]; then
        log_error "Repo-Verzeichnis nicht gefunden: $repo_root"
        ((fatal_errors++))
    else
        echo -e "    ${COL_GREEN}${SYMBOL_OK}${COL_RESET} Repository-Pfad existiert."
    fi

    if [[ ! -d "$home_dir" ]]; then
        log_error "Home-Verzeichnis nicht gefunden: $home_dir"
        ((fatal_errors++))
    else
        echo -e "    ${COL_GREEN}${SYMBOL_OK}${COL_RESET} Home-Verzeichnis existiert."
    fi

    [[ $fatal_errors -gt 0 ]] && return "$EXIT_FATAL"
    return "$EXIT_OK"
}

checks_check_symlinks() {
    local home_dir="$1" user_name="$2" repo_root="$3"
    local warnings=0

    log_info "Symlink Check fuer $user_name:"

    local file src dest
    for file in "${DOTFILES_WHITELIST[@]}"; do
        src="${repo_root}/home/${file}"
        dest="${home_dir}/${file}"

        if [[ ! -e "$src" ]]; then
            echo -e "    ${COL_YELLOW}${SYMBOL_WARN}${COL_RESET} Quelle fehlt im Repo: ${file}"
            ((warnings++))
            continue
        fi

        if [[ -L "$dest" ]]; then
            local canon_dest_target canon_src

            # Wir vergleichen, ob das Ziel des Links im Home der Datei im Repo entspricht
            canon_dest_target="$(canon_path "$dest")"
            canon_src="$(canon_path "$src")"

            if [[ "$canon_dest_target" == "$canon_src" ]]; then
                echo -e "    ${COL_GREEN}${SYMBOL_OK}${COL_RESET} ${file} ist korrekt verlinkt."
            else
                echo -e "    ${COL_YELLOW}${SYMBOL_WARN}${COL_RESET} ${file} zeigt auf falsches Ziel."
                ((warnings++))
            fi
        elif [[ -e "$dest" ]]; then
            echo -e "    ${COL_YELLOW}${SYMBOL_WARN}${COL_RESET} ${file} ist eine regulaere Datei (kein Link)."
            ((warnings++))
        else
            echo -e "    ${COL_RED}${SYMBOL_ERROR}${COL_RESET} ${file} fehlt im Home-Verzeichnis."
            ((warnings++))
        fi
    done

    [[ $warnings -gt 0 ]] && return "$EXIT_WARN"
    return "$EXIT_OK"
}

true


### END OF FILE: lib\libchecks.sh

#################################################################
### BEGIN FILE: lib\libcommon.sh
#################################################################

# FILE: lib/libcommon.sh
#!/usr/bin/env bash
#
# Hilfsfunktionen fuer Logging, Befehlspruefung und Ausfuehrung.
# Erbt LOG_PREFIX_*, COL_* und EXIT_* aus libconstants.sh.

# --- Integritaets-Check ---
# Sicherstellen, dass Konstanten geladen sind (verhindert leere Logs bei Fehlkonfiguration)
if [[ -z "$LOG_PREFIX_INFO" ]]; then
    echo "CRITICAL: libcommon.sh geladen ohne libconstants.sh!" >&2
    exit 1
fi

# --- Logging Funktionen ---

log_info()  {
    echo -e "${LOG_PREFIX_INFO} $*"
}

log_warn()  {
    echo -e "${LOG_PREFIX_WARN} $*"
}

log_error() {
    echo -e "${LOG_PREFIX_ERROR} $*" >&2
}

# Beendet das Skript sofort bei kritischen Fehlern
die() {
    log_error "$*"
    exit "${EXIT_FATAL:-1}"
}

# --- System & Befehls-Helfer ---

has_cmd() {
    command -v "$1" >/dev/null 2>&1
}

require_cmd() {
    if ! has_cmd "$1"; then
        die "Erforderliches Tool fehlt: $1"
    fi
}

# --- Ausfuehrungs-Wrapper ---

run() {
    if [[ "${DRY_RUN:-0}" -eq 1 ]]; then
        echo -e "${COL_YELLOW}DRY_RUN:${COL_RESET} $*"
        return 0
    fi

    # Ausfuehrung und Rueckgabe des Original-Exit-Codes
    "$@"
    return $?
}

true


### END OF FILE: lib\libcommon.sh

#################################################################
### BEGIN FILE: lib\libengine.sh
#################################################################

# FILE: lib/libengine.sh
#!/usr/bin/env bash
#
# Kern-Logik fuer Installation und Deinstallation.
# Hinweis: Library ist source-bare. Erbt Konstanten und Common-Funktionen.

engine_install_home() {
    local home_dir="$1" user_name="$2" repo_root="$3"
    local errors=0

    log_info "Starte Home-Installation fuer ${user_name} in ${home_dir}"

    local file src dest current_target
    for file in "${DOTFILES_WHITELIST[@]}"; do
        # Nutzt REPO_HOME_DIR statt hartcodiertem "home"
        src="${repo_root}/${REPO_HOME_DIR}/${file}"
        dest="${home_dir}/${file}"

        if [[ ! -e "$src" ]]; then
            log_warn "SKIP ${file}: Quelle fehlt im Repo"
            continue
        fi

        # Idempotenz-Check mit Kanonisierung
        if [[ -L "$dest" ]]; then
            # canon_path loest Links auf, damit wir echte Pfade vergleichen
            if [[ "$(canon_path "$dest")" == "$(canon_path "$src")" ]]; then
                log_info "OK ${file}: Symlink bereits korrekt"
                continue
            else
                log_warn "SKIP ${file}: Symlink zeigt auf fremdes Ziel"
                continue
            fi
        fi

        # Schutz vor Ueberschreiben echter Dateien
        if [[ -e "$dest" ]]; then
            log_warn "SKIP ${file}: Ziel existiert bereits als echte Datei/Dir"
            continue
        fi

        run ln -sf "$src" "$dest" || ((errors++))
    done

    engine_install_runtime_configs "$home_dir" "$repo_root" || ((errors++))

    [[ $errors -gt 0 ]] && return "$EXIT_FATAL"
    return "$EXIT_OK"
}

engine_uninstall_home() {
    local home_dir="$1" user_name="$2" repo_root="$3"
    local errors=0

    log_info "Starte Deinstallation fuer ${user_name}"

    local file src dest
    for file in "${DOTFILES_WHITELIST[@]}"; do
        src="${repo_root}/${REPO_HOME_DIR}/${file}"
        dest="${home_dir}/${file}"

        if [[ -L "$dest" ]]; then
            if [[ "$(canon_path "$dest")" == "$(canon_path "$src")" ]]; then
                run rm -- "$dest" || ((errors++))
            else
                log_warn "SKIP ${file}: Symlink zeigt auf fremdes Ziel"
            fi
        elif [[ -e "$dest" ]]; then
            log_warn "SKIP ${file}: Echte Datei/Dir wird nicht automatisch entfernt"
        fi
    done

    # 2) Runtime-Konfigurationen entfernen
    local tool target
    for tool in "${RUNTIME_CONFIGS[@]}"; do
        target="${home_dir}/.config/${tool}"
        if [[ -e "$target" || -L "$target" ]]; then
            run rm -rf -- "$target" || ((errors++))
        fi
    done

    [[ $errors -gt 0 ]] && return "$EXIT_FATAL"
    return "$EXIT_OK"
}

engine_install_runtime_configs() {
    local home_dir="$1" repo_root="$2"
    local config_dest="${home_dir}/.config"
    local error_count=0

    if [[ ! -d "$config_dest" ]]; then
        run mkdir -p "$config_dest" || return "$EXIT_FATAL"
    fi

    for tool in "${RUNTIME_CONFIGS[@]}"; do
        # Nutzt REPO_CONFIG_DIR statt hartcodiertem "config"
        local src="${repo_root}/${REPO_CONFIG_DIR}/${tool}"
        local dest="${config_dest}/${tool}"

        if [[ -d "$src" ]]; then
            # Backup-Logik
            if [[ -e "$dest" && ! -L "$dest" ]]; then
                log_warn "Backup: Verschiebe existierenden Ordner ${tool} nach .bak"
                [[ -e "${dest}.bak" ]] && run rm -rf "${dest}.bak"
                run mv "$dest" "${dest}.bak" || ((error_count++))
            elif [[ -L "$dest" ]]; then
                run rm "$dest" || ((error_count++))
            fi

            run cp -r "$src" "$config_dest/" || ((error_count++))
        else
            log_warn "SKIP '${tool}': Quelle fehlt in ${REPO_CONFIG_DIR}/"
        fi
    done

    [[ $error_count -gt 0 ]] && return "$EXIT_FATAL"
    return "$EXIT_OK"
}

true


### END OF FILE: lib\libengine.sh

#################################################################
### BEGIN FILE: lib\libplatform_linux.sh
#################################################################

# FILE: lib/libplatform_linux.sh
#!/usr/bin/env bash
#
# Linux-spezifische Funktionen (Benutzerverwaltung, Root-Pruefung).
# Hinweis: Library ist source-bare. Erbt Konstanten und Log-Funktionen.

platform_linux_init() {
    # Pruefung ob notwendige Linux-Tools vorhanden sind
    require_cmd getent
    require_cmd id
}

platform_linux_require_root() {
    if [[ "$EUID" -ne 0 ]]; then
        # Nutzt die 'die' Funktion aus libcommon.sh
        die "Dieses Kommando erfordert Root-Rechte (sudo)."
    fi
}

platform_linux_list_target_users() {
    # Listet Benutzer auf, fuer die Dotfiles installiert werden sollen:
    # 1. UID 0 (root) explizit eingeschlossen (wichtig fuer Server-Setups)
    # 2. UID >= 1000 (normale Benutzer/Desktop-User)
    # 3. UID 65534 (nobody) wird ausgeschlossen
    getent passwd | awk -F: '($3 == 0 || ($3 >= 1000 && $3 != 65534)) {print $1}'
}

platform_linux_validate_user() {
    local user="$1"
    if getent passwd "$user" >/dev/null 2>&1; then
        return "$EXIT_OK"
    else
        return "$EXIT_FATAL"
    fi
}

true


### END OF FILE: lib\libplatform_linux.sh

#################################################################
### BEGIN FILE: lib\libplatform_windows.sh
#################################################################

# FILE: lib/libplatform_windows.sh
#!/usr/bin/env bash
#
# Windows (Git Bash/MSYS2) spezifische Logik.
# Hinweis: Library ist source-bare. Erbt Konstanten und Log-Funktionen.

platform_windows_init() {
    # Erzwingt native Symlinks; Fehlermeldung wenn nicht moeglich.
    export MSYS="winsymlinks:nativestrict"

    if [[ "${MSYS:-}" != *"winsymlinks:nativestrict"* ]]; then
        die "Konnte MSYS=winsymlinks:nativestrict nicht setzen."
    fi
}

platform_windows_require_symlink_rights() {
    log_info "Pruefe Windows Symlink-Berechtigungen..."

    local tmp_dir test_target test_link
    tmp_dir="$(mktemp -d 2>/dev/null || echo "")"
    [[ -z "$tmp_dir" || ! -d "$tmp_dir" ]] && die "Konnte temporaeres Verzeichnis fuer Test nicht erstellen."

    test_target="${tmp_dir}/target_file"
    test_link="${tmp_dir}/test_link"

    # 'nativestrict' erfordert, dass das Ziel existiert.
    printf '%s\n' "symlink-test" >"$test_target" || die "Konnte Test-Datei nicht erstellen."

    if ln -s "$test_target" "$test_link" 2>/dev/null; then
        # Cleanup
        rm -f "$test_link" "$test_target" 2>/dev/null || true
        rmdir "$tmp_dir" 2>/dev/null || true

        # Nutze das SYMBOL_OK fuer konsistente Ausgabe
        echo -e "    ${COL_GREEN}${SYMBOL_OK}${COL_RESET} Symlink-Rechte erfolgreich verifiziert."
        return "$EXIT_OK"
    fi

    # Cleanup im Fehlerfall
    rm -f "$test_link" "$test_target" 2>/dev/null || true
    rmdir "$tmp_dir" 2>/dev/null || true

    # Formatierte Fehlermeldung unter Nutzung von COL_RED
    echo -e "${COL_RED}${SYMBOL_ERROR} FEHLER: Native Symlinks konnten nicht erstellt werden.${COL_RESET}" >&2
    cat <<EOF >&2

Moegliche Ursachen:
1) Der 'Entwicklermodus' (Developer Mode) ist in den Windows-Einstellungen NICHT aktiviert.
2) Die Sicherheitsrichtlinie 'Erstellen symbolischer Verknuepfungen' fehlt fuer Ihren Account.
3) Git Bash wurde nicht mit ausreichenden Rechten gestartet (falls Dev-Mode aus ist).

Massnahme: Aktivieren Sie den Entwicklermodus in den Windows 10/11 Einstellungen und versuchen Sie es erneut.
EOF
    exit "$EXIT_FATAL"
}

platform_windows_list_target_users() {
    # Unter Windows (Git Bash) wird i.d.R. nur der aktuelle User verwaltet.
    # Da getent/passwd hier oft unzuverlaessig sind, geben wir den aktuellen User zurueck.
    whoami
}

true


### END OF FILE: lib\libplatform_windows.sh

#################################################################
### BEGIN FILE: dotfilesctl.sh
#################################################################

#!/usr/bin/env bash
#
# Zentraler Entry-Point fuer das Dotfiles-Management.
# Standards: set -euo pipefail, 4-Leerschritt-Einrueckung, ASCII-safe Output.
# Kompatibilitaet: Bash >= 4.0

set -euo pipefail

# --- Bash Version Check ---
if (( BASH_VERSINFO[0] < 4 )); then
    echo "[ X ] Bash >= 4.0 erforderlich (gefunden: ${BASH_VERSION})." >&2
    exit 1
fi

# --- Pfad-Aufloesung (Robust) ---
SOURCE="${BASH_SOURCE[0]}"
while [ -h "$SOURCE" ]; do
    DIR="$( cd -P "$( dirname "$SOURCE" )" >/dev/null 2>&1 && pwd )"
    SOURCE="$(readlink "$SOURCE")"
    [[ $SOURCE != /* ]] && SOURCE="$DIR/$SOURCE"
done
readonly REPO_ROOT="$( cd -P "$( dirname "$SOURCE" )" >/dev/null 2>&1 && pwd )"

# --- Bibliotheken laden (Reihenfolge ist entscheidend!) ---
# 1. Farben -> 2. Konstanten (brauchen Farben) -> 3. Common (braucht Konstanten)
source "${REPO_ROOT}/lib/libcolors.sh"
source "${REPO_ROOT}/lib/libconstants.sh"
source "${REPO_ROOT}/lib/libcommon.sh"
# 4. Funktionsmodule
source "${REPO_ROOT}/lib/libplatform_linux.sh"
source "${REPO_ROOT}/lib/libplatform_windows.sh"
source "${REPO_ROOT}/lib/libengine.sh"
source "${REPO_ROOT}/lib/libchecks.sh"

usage() {
    # Nutzt STYLE_BOLD_YELLOW fuer die Headline
    echo -e "${STYLE_BOLD_YELLOW}Dotfiles Controller${COL_RESET}"
    cat <<EOF
Nutzung: $(basename "$0") BEFEHL [OPTIONEN]

Befehle:
    install         Symlinks und Konfigurationen installieren
    uninstall       Verwaltete Symlinks entfernen
    update          Repository aktualisieren (git pull --ff-only)
    health          Systemvoraussetzungen pruefen (Read-only)
    checksymlinks   Status der Symlinks validieren (Read-only)
    doctor          Kombination aus health und checksymlinks

Optionen:
    --dry-run       Aktionen nur simulieren
    --strict        Warnungen als Fehler behandeln (Exit 1)
    --all-users     (Linux) Auf alle validen Benutzer anwenden
    --user <name>   (Linux) Auf spezifischen Benutzer anwenden
    --help          Diese Hilfe anzeigen

Exit Codes:
    $EXIT_OK OK
    $EXIT_FATAL Fatal (Fehler)
    $EXIT_WARN Warning (Warnung)
EOF
}

cmd_install_uninstall() {
    local action="$1" os="$2" all="$3" user="$4"
    local error_count=0

    if [[ "$os" == "linux" ]]; then
        platform_linux_require_root

        local users_to_process=()
        if [[ "$all" -eq 1 ]]; then
            mapfile -t users_to_process < <(platform_linux_list_target_users)
        elif [[ -n "$user" ]]; then
            platform_linux_validate_user "$user" && users_to_process+=("$user") || die "User '$user' ungueltig."
        else
            die "Auf Linux ist --all-users oder --user <name> erforderlich."
        fi

        local u home
        for u in "${users_to_process[@]}"; do
            home="$(getent passwd "$u" | cut -d: -f6)"
            log_info "Verarbeite Benutzer: ${COL_CYAN}$u${COL_RESET} ($home)"

            if [[ "$action" == "install" ]]; then
                engine_install_home "$home" "$u" "$REPO_ROOT" || ((error_count++))
            else
                engine_uninstall_home "$home" "$u" "$REPO_ROOT" || ((error_count++))
            fi
        done
    else
        [[ "$all" -eq 1 || -n "$user" ]] && die "User-Wahl unter Windows nicht unterstuetzt."
        [[ "$action" == "install" ]] && platform_windows_require_symlink_rights

        log_info "Verarbeite Benutzer: ${COL_CYAN}$USER${COL_RESET} ($HOME)"
        if [[ "$action" == "install" ]]; then
            engine_install_home "$HOME" "$USER" "$REPO_ROOT" || ((error_count++))
        else
            engine_uninstall_home "$HOME" "$USER" "$REPO_ROOT" || ((error_count++))
        fi
    fi

    [[ $error_count -gt 0 ]] && exit "$EXIT_FATAL"
    exit "$EXIT_OK"
}

cmd_health_checks() {
    local action="$1" os="$2" all="$3" user="$4"
    local total_warns=0 total_errors=0

    update_counters() {
        case "$1" in
            "$EXIT_OK")    return 0 ;;
            "$EXIT_WARN")  ((total_warns++)); return 0 ;;
            *)             ((total_errors++)); return 0 ;;
        esac
    }

    run_check_single() {
        local u="$1" h="$2" ret=0
        # Optische Trennung der Benutzer-Checks
        echo -e "\n${COL_BLUE}>>>${COL_RESET} ${ATTR_BOLD}Check fuer Benutzer: $u${COL_RESET}"

        if [[ "$action" == "health" || "$action" == "doctor" ]]; then
            ret=0; checks_health "$h" "$u" "$REPO_ROOT" || ret=$?
            update_counters "$ret"
            [[ "$action" == "doctor" && "$ret" -eq "$EXIT_FATAL" ]] && return 0
        fi

        if [[ "$action" == "checksymlinks" || "$action" == "doctor" ]]; then
            ret=0; checks_check_symlinks "$h" "$u" "$REPO_ROOT" || ret=$?
            update_counters "$ret"
        fi
    }

    local target_users=()
    if [[ "$os" == "linux" ]]; then
        if [[ "$all" -eq 1 ]]; then
            mapfile -t target_users < <(platform_linux_list_target_users)
        elif [[ -n "$user" ]]; then
            platform_linux_validate_user "$user" && target_users+=("$user") || die "User '$user' ungueltig."
        else
            target_users+=("$USER")
        fi
    else
        target_users+=("$USER")
    fi

    local u h
    for u in "${target_users[@]}"; do
        if [[ "$os" == "linux" ]]; then
            h="$(getent passwd "$u" | cut -d: -f6)"
        else
            h="$HOME"
        fi
        run_check_single "$u" "$h"
    done

    # Finaler Status-Report
    echo -e "\n${STYLE_HEADER_BG} ZUSAMMENFASSUNG ${COL_RESET}"
    if [[ $total_errors -gt 0 ]]; then
        log_error "Abgeschlossen mit ${total_errors} Fehlern."
        exit "$EXIT_FATAL"
    fi

    if [[ $total_warns -gt 0 ]]; then
        log_warn "Abgeschlossen mit ${total_warns} Warnungen."
        [[ "${STRICT_MODE:-0}" -eq 1 ]] && exit "$EXIT_FATAL" || exit "$EXIT_WARN"
    fi

    log_info "Alles in Ordnung. Keine Probleme gefunden."
    exit "$EXIT_OK"
}

main() {
    # Globale Defaults
    DRY_RUN=0
    STRICT_MODE=0
    TARGET_USER=""
    ALL_USERS=0
    CMD=""

    [[ $# -eq 0 ]] && { usage; exit "$EXIT_OK"; }

    CMD="$1"
    shift

    while [[ $# -gt 0 ]]; do
        case "$1" in
            --dry-run)  DRY_RUN=1; shift ;;
            --strict)   STRICT_MODE=1; shift ;;
            --all-users) ALL_USERS=1; shift ;;
            --user)     [[ -z "${2:-}" ]] && die "--user erfordert Argument."; TARGET_USER="$2"; shift 2 ;;
            --help)     usage; exit "$EXIT_OK" ;;
            *)          die "Unbekannte Option: $1" ;;
        esac
    done

    readonly DRY_RUN STRICT_MODE

    # Plattform-Erkennung
    local os_type="$(uname -s)"
    local os="unknown"
    case "$os_type" in
        Linux*) os="linux" ;;
        MINGW*|MSYS*|CYGWIN*) os="windows" ;;
        *) die "Unsupported OS: ${os_type}" ;;
    esac

    # Initialisierung
    case "$os" in
        linux) platform_linux_init ;;
        windows) platform_windows_init ;;
    esac

    # Command-Routing
    case "$CMD" in
        install|uninstall)
            cmd_install_uninstall "$CMD" "$os" "$ALL_USERS" "$TARGET_USER"
            ;;
        health|checksymlinks|doctor)
            cmd_health_checks "$CMD" "$os" "$ALL_USERS" "$TARGET_USER"
            ;;
        update)
            [[ "$os" == "linux" ]] && platform_linux_require_root
            run git -C "$REPO_ROOT" pull --ff-only || exit "$EXIT_FATAL"
            exit "$EXIT_OK"
            ;;
        *)
            usage
            exit "$EXIT_FATAL"
            ;;
    esac
}

main "$@"


### END OF FILE: dotfilesctl.sh

#################################################################
### BEGIN FILE: home\.bashaliases
#################################################################

# FILE: home/.bashaliases
# PlattformÃ¼bergreifende Aliase
# Optimiert fÃ¼r Performance: Nutzt die $PLATFORM Variable aus .bashenv

# --- Allgemeine Navigations-Hilfen ---
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias -- -='cd -'

# --- LS & Verzeichnis-Listing ---
# Basierend auf der Plattform werden unterschiedliche Flags gesetzt
if [[ "$PLATFORM" == "linux" ]]; then
    alias ls='ls --color=auto --group-directories-first'
    alias ll='ls -lah --color=auto --group-directories-first'
elif [[ "$PLATFORM" == "windows" ]]; then
    # Git Bash benÃ¶tigt oft --show-control-chars fÃ¼r korrekte Umlaute
    alias ls='ls --color=auto --show-control-chars --group-directories-first'
    alias ll='ls -lah --color=auto --show-control-chars --group-directories-first'
else
    alias ls='ls --color=auto'
    alias ll='ls -la'
fi

alias l='ls -CF'
alias la='ls -A'

# --- Sicherheits-Aliase (Interaktive BestÃ¤tigung) ---
alias cp='cp -i'
alias mv='mv -i'
alias rm='rm -i'
alias ln='ln -i'

# --- Werkzeug-AbkÃ¼rzungen ---
alias grep='grep --color=auto'
alias fgrep='fgrep --color=auto'
alias egrep='egrep --color=auto'
alias df='df -h'
alias du='du -h'

# --- Plattformspezifische Spezialbefehle ---
if [[ "$PLATFORM" == "linux" ]]; then
    # Linux-Spezifisch (z.B. APT, Systemd)
    alias update='sudo apt update && sudo apt upgrade'
    alias jc='journalctl -xe'
    alias sc='systemctl'
elif [[ "$PLATFORM" == "windows" ]]; then
    # Windows/Git Bash Spezifisch
    alias explorer='explorer . '
    alias code='code . '
    # Ã–ffnet den Windows-User-Ordner schnell
    alias cuser='cd /c/Users/$USER'
fi

# --- Projekt-Spezifisch ---
# Schnellzugriff auf das Dotfiles-Management
alias dctl="$HOME/dotfiles/dotfilesctl.sh"

# --- Helfer ---
alias reload='source ~/.bashrc && echo "Reloaded .bashrc"'
alias path='echo -e ${PATH//:/\\n}' # Zeigt den Pfad Zeile fÃ¼r Zeile an


### END OF FILE: home\.bashaliases

#################################################################
### BEGIN FILE: home\.bashenv
#################################################################

# FILE: home/.bashenv
# Zentrale Shell-Optionen und Pfade.
# Integriert libcolors.sh fuer konsistente Manpage-Farben.

# 0. Farbaufloesung (Basis laden)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
DOT_REPO="${DOTFILES_REPO_PATH:-$HOME/.dotfiles}"
COLOR_LIB="${DOT_REPO}/lib/libcolors.sh"

if [[ -f "$COLOR_LIB" ]]; then
    source "$COLOR_LIB"
    # Wir nutzen ESC_START/END und CLR_* direkt fuer die Export-Variablen
fi

# 1. Pfad-Initialisierung (Ganz am Anfang)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
if [[ -d "$HOME/bin" ]] ; then
    PATH="$HOME/bin:$PATH"
fi

# 2. Bash History & Shell-Optionen
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
HISTCONTROL="ignoreboth:erasedups"
HISTIGNORE="la:ll:lah:lat:ls:cd ..:exit:mc:au:fg:bg:jobs:history"
HISTSIZE=8192
HISTFILESIZE=16384

shopt -s histappend   # History anhaengen statt ueberschreiben
shopt -s cmdhist      # Mehrzeilige Befehle korrekt speichern
shopt -s cdspell      # Korrigiert kleine Tippfehler bei cd
shopt -s checkwinsize # Aktualisiert Fenstergroesse nach jedem Befehl
shopt -s globstar     # Ermoeglicht rekursive Suche mit **

# 3. Manpages in Farbe (Linux-only)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Nutzt die zentralen Definitionen fuer ein einheitliches Design
if [[ "${PLATFORM:-unknown}" == "linux" ]]; then
    export MANPAGER="less -s -M +Gg"

    # mb: Blinkender Text (hier: Rot)
    export LESS_TERMCAP_mb="${ESC_START}${CLR_RED}${ESC_END}"
    # md: Fett/Headline (hier: Gelb)
    export LESS_TERMCAP_md="${ESC_START}1;33${ESC_END}"
    # me: Ende aller Modi
    export LESS_TERMCAP_me="${ESC_START}${CLR_RESET}${ESC_END}"
    # se: Ende Standout-Modus
    export LESS_TERMCAP_se="${ESC_START}${CLR_RESET}${ESC_END}"
    # so: Standout/Statuszeile (hier: Gelb auf Blau)
    export LESS_TERMCAP_so="${ESC_START}01;44;33${ESC_END}"
    # ue: Ende Unterstreichung
    export LESS_TERMCAP_ue="${ESC_START}${CLR_RESET}${ESC_END}"
    # us: Unterstrichen/Variablen (hier: Gruen)
    export LESS_TERMCAP_us="${ESC_START}1;4;32${ESC_END}"
fi

# 4. SSH-Erkennung & Locales
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
if [[ -n "$SSH_CONNECTION" ]]; then
    export TMOUT=0 # Verhindert Auto-Disconnect
    if [[ "${PLATFORM:-unknown}" == "linux" ]]; then
        export LC_ALL="de_DE.UTF-8"
    else
        export LC_ALL="en_US.UTF-8"
    fi
fi

# 5. Host-spezifische Pfade (Linux)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
if [[ "${PLATFORM:-unknown}" == "linux" ]]; then
    case "$(hostname)" in
        raspifix) [[ -d "/opt/script" ]] && PATH="$PATH:/opt/script" ;;
        proxmox*) [[ -d "/opt/scripts" ]] && PATH="$PATH:/opt/scripts" ;;
        *backup*) export MAIL_ON_ERROR="root@localhost" ;;
    esac
fi

# 6. Tool-Initialisierungen (FZF & Dircolors)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
if command -v fzf >/dev/null 2>&1 && [[ -f "$HOME/.fzf.bash" ]]; then
    source "$HOME/.fzf.bash"
fi

if [[ "${PLATFORM:-unknown}" == "linux" ]]; then
    if [[ -f "$HOME/.dircolors" ]]; then
        eval "$(dircolors -b "$HOME/.dircolors")"
    elif [[ -f /etc/DIR_COLORS ]]; then
        eval "$(dircolors -b /etc/DIR_COLORS)"
    fi
fi

# 7. Lokale Overrides (Nicht versioniert)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[[ -f "$HOME/.bash_env_local" ]] && source "$HOME/.bash_env_local"

true


### END OF FILE: home\.bashenv

#################################################################
### BEGIN FILE: home\.bashexports
#################################################################

# FILE: home/.bashexports
# Definition von Umgebungsvariablen fÃ¼r Tools und Sprachen

# 1. Standard-Editor & Pager
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
if [[ "${PLATFORM:-unknown}" == "linux" ]]; then
    # PrioritÃ¤t: micro > nano > vi
    if command -v micro >/dev/null 2>&1; then
        export EDITOR="micro"
    elif command -v nano >/dev/null 2>&1; then
        export EDITOR="nano"
    else
        export EDITOR="vi"
    fi
else
    # Windows: Notepad++ Pfade prÃ¼fen
    if [[ -f "/c/Program Files/Notepad++/notepad++.exe" ]]; then
        export EDITOR="/c/Program Files/Notepad++/notepad++.exe"
    else
        export EDITOR="notepad.exe"
    fi
fi
export VISUAL="$EDITOR"
export PAGER="less"
export LESS="-R" # ErmÃ¶glicht farbige Ausgaben in less

# 2. Sprache / Zeichensatz (Locale)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
if [[ "${PLATFORM:-unknown}" == "linux" ]]; then
    export LANG="de_DE.UTF-8"
    export LC_ALL="de_DE.UTF-8"
else
    export LANG="en_US.UTF-8"
    export LC_ALL="en_US.UTF-8"
fi

# 3. Lokale Erweiterungen
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Hinweis: PATH-Erweiterung fÃ¼r ~/bin erfolgt bereits in .bashenv
[[ -f "$HOME/.bash_exports_local" ]] && source "$HOME/.bash_exports_local"

true


### END OF FILE: home\.bashexports

#################################################################
### BEGIN FILE: home\.bashfunctions
#################################################################

# FILE: home/.bashfunctions
# PlattformÃ¼bergreifende Shell-Funktionen
# Nutzt die $PLATFORM Variable fÃ¼r maximale Performance.

# --- Suche & Finden ---

# 'f' - Schnelle Suche nach Dateien im aktuellen Verzeichnis
f() {
    if [[ $# -eq 0 ]]; then
        echo "Usage: f <dateiname>"
        return 1
    fi
    find . -type f -iname "*$1*"
}

# 'grepr' - Rekursive Textsuche mit Zeilennummern
grepr() {
    if [[ $# -eq 0 ]]; then
        echo "Usage: grepr <suchbegriff>"
        return 1
    fi
    grep -rnI "$1" .
}

# --- Archivierung & Packen ---

# 'extract' - Intelligentes Entpacken fast aller Archivtypen
extract() {
    if [[ -f "$1" ]]; then
        case "$1" in
            *.tar.bz2)   tar xjf "$1"     ;;
            *.tar.gz)    tar xzf "$1"     ;;
            *.bz2)       bunzip2 "$1"     ;;
            *.rar)       unrar x "$1"     ;;
            *.gz)        gunzip "$1"      ;;
            *.tar)       tar xf "$1"      ;;
            *.tbz2)      tar xjf "$1"     ;;
            *.tgz)       tar xzf "$1"     ;;
            *.zip)       unzip "$1"       ;;
            *.Z)         uncompress "$1"  ;;
            *.7z)        7z x "$1"        ;;
            *)           echo "'$1' kann nicht entpackt werden." ;;
        esac
    else
        echo "'$1' ist keine gÃ¼ltige Datei."
    fi
}

# --- Netzwerk-Helfer ---

# Zeigt die lokale und (optional) Ã¶ffentliche IP an
myip() {
    echo -n "Lokale IP: "
    if [[ "$PLATFORM" == "linux" ]]; then
        hostname -I | awk '{print $1}'
    elif [[ "$PLATFORM" == "windows" ]]; then
        ipconfig | grep -i "IPv4" | awk -F: '{ print $2 }' | head -n 1 | xargs
    fi

    # Ã–ffentliche IP nur abfragen, wenn 'curl' vorhanden ist
    if command -v curl >/dev/null 2>&1; then
        echo -n "Ã–ffentliche IP: "
        curl -s https://ifconfig.me
        echo ""
    fi
}

# --- Plattform-Spezifische Helfer ---

if [[ "$PLATFORM" == "linux" ]]; then
    # Zeigt die RAM-Fresser an (Linux spezifisch)
    top_mem() {
        ps auxf | sort -nr -k 4 | head -n 10
    }

    # Zeigt die CPU-Fresser an
    top_cpu() {
        ps auxf | sort -nr -k 3 | head -n 10
    }

elif [[ "$PLATFORM" == "windows" ]]; then
    # Hilft bei Windows-Pfad-Problemen in Git Bash
    # Wandelt Windows-Pfade in Unix-Pfade um
    uath() {
        if [[ -z "$1" ]]; then
            cygpath -u "$(powershell.exe -command "Get-Clipboard")"
        else
            cygpath -u "$1"
        fi
    }
fi

# --- System-Wartung (Basierend auf .bashwartung) ---

# Einfacher Check fÃ¼r System-Ressourcen
health() {
    echo "--- System Health Check ---"
    echo -n "Datum:  " && date
    echo -n "User:   " && whoami
    echo -n "Uptime: " && uptime -p

    if [[ "$PLATFORM" == "linux" ]]; then
        echo "Disk Usage:"
        df -h / | grep /
    elif [[ "$PLATFORM" == "windows" ]]; then
        echo "Disk Usage (C:):"
        df -h /c | grep /c
    fi
}

# --- Datei-Manipulation ---

# Erstellt ein Verzeichnis und wechselt sofort hinein
mkd() {
    mkdir -p "$1" && cd "$1"
}


### END OF FILE: home\.bashfunctions

#################################################################
### BEGIN FILE: home\.bashprompt
#################################################################

# FILE: home/.bashprompt
#!/usr/bin/env bash
#
# Konfiguration des Bash-Prompts (PS1).
# Nutzt zentrale Farbcodes aus der libcolors.sh fuer ein konsistentes Design.

# --- Farbaufloesung ---

# Versuche den Pfad zum Repository zu finden (Standard: ~/.dotfiles)
DOT_REPO="${DOTFILES_REPO_PATH:-$HOME/.dotfiles}"
COLOR_LIB="${DOT_REPO}/lib/libcolors.sh"

if [[ -f "$COLOR_LIB" ]]; then
    # Lade die rohen Farbcodes (CLR_*, ESC_START, ESC_END)
    source "$COLOR_LIB"

    # C-Serie: Fuer normales echo innerhalb der Shell (Console)
    C_RED="${ESC_START}${CLR_RED}${ESC_END}"
    C_GREEN="${ESC_START}${CLR_GREEN}${ESC_END}"
    C_YELLOW="${ESC_START}${CLR_YELLOW}${ESC_END}"
    C_BLUE="${ESC_START}${CLR_BLUE}${ESC_END}"
    C_RESET="${ESC_START}${CLR_RESET}${ESC_END}"

    # P-Serie: Fuer den PS1 Prompt (mit Bash-Non-Printing-Wrappern \[ \])
    P_RED="\[${ESC_START}${CLR_RED}${ESC_END}\]"
    P_GREEN="\[${ESC_START}${CLR_GREEN}${ESC_END}\]"
    P_YELLOW="\[${ESC_START}${CLR_YELLOW}${ESC_END}\]"
    P_BLUE="\[${ESC_START}${CLR_BLUE}${ESC_END}\]"
    P_MAGENTA="\[${ESC_START}${CLR_MAGENTA}${ESC_END}\]"
    P_CYAN="\[${ESC_START}${CLR_CYAN}${ESC_END}\]"
    P_RESET="\[${ESC_START}${CLR_RESET}${ESC_END}\]"
else
    # Fallback, falls die Library nicht gefunden wird
    P_GREEN=""
    P_BLUE=""
    P_RESET=""
fi

# --- Prompt Logik ---

# Funktion fuer den Git-Status (falls git installiert ist)
__prompt_git_info() {
    if command -v git >/dev/null 2>&1; then
        local branch
        branch=$(git symbolic-ref --short HEAD 2>/dev/null)
        if [[ -n "$branch" ]]; then
            echo -e " ${P_YELLOW}(git:${branch})${P_RESET}"
        fi
    fi
}

# Zusammensetzung des Prompts:
# [User@Host] (Git) [Pfad] $
set_prompt() {
    local EXIT_CODE=$?
    local PROMPT_SYMBOL="\$"

    # Optional: Symbol wird rot bei Fehler des letzten Befehls
    local PS_COLOR_SYMBOL="${P_RESET}"
    if [[ $EXIT_CODE -ne 0 ]]; then
        PS_COLOR_SYMBOL="${P_RED}"
    fi

    PS1="${P_GREEN}\u${P_RESET}@${P_CYAN}\h${P_RESET}:${P_BLUE}\w${P_RESET}$(__prompt_git_info) ${PS_COLOR_SYMBOL}${PROMPT_SYMBOL}${P_RESET} "
}

# Prompt bei jedem Befehl neu setzen
PROMPT_COMMAND=set_prompt

# Fenster-Titel bei xterm-kompatiblen Terminals setzen
case "$TERM" in
    xterm*|rxvt*)
        PS1="\[\e]0;\u@\h: \w\a\]$PS1"
        ;;
esac

true


### END OF FILE: home\.bashprompt

#################################################################
### BEGIN FILE: home\.bashrc
#################################################################

# FILE: home/.bashrc
# Main bashrc file - Orchestrator for all modules

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 0. Nur fÃ¼r interaktive Shells
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
case "$-" in
    *i*) ;;
    *) return ;;
esac

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 1. Windows Git Bash â€“ echte Symlinks erzwingen
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
if [[ "$OSTYPE" == msys* || "$OSTYPE" == cygwin* ]]; then
    export MSYS=winsymlinks:nativestrict
fi

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 2. Plattform-Erkennung (zentral)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
case "$(uname -s)" in
    Linux)
        export PLATFORM="linux"
        ;;
    MINGW*|MSYS*|CYGWIN*)
        export PLATFORM="windows"
        ;;
    *)
        export PLATFORM="unknown"
        ;;
esac

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 3. Module laden (definierte Reihenfolge)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# REIHENFOLGE: Env -> Exports -> Prompt -> Tools
for file in \
    "$HOME/.bashenv" \
    "$HOME/.bashexports" \
    "$HOME/.bashprompt" \
    "$HOME/.bashaliases" \
    "$HOME/.bashfunctions" \
    "$HOME/.bashwartung"
do
    if [[ -f "$file" ]]; then
        # shellcheck disable=SC1090
        if ! source "$file" 2>/dev/null; then
            echo "WARNUNG: Fehler beim Laden von $(basename "$file")" >&2
        fi
    fi
done

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 4. PROMPT_COMMAND Initialisierung
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
if command -v prompt_run_logic >/dev/null 2>&1; then
    if [[ -n "${PROMPT_COMMAND:-}" ]]; then
        case ";$PROMPT_COMMAND;" in
            *";prompt_run_logic;"*) : ;;
            *) PROMPT_COMMAND="prompt_run_logic; $PROMPT_COMMAND" ;;
        esac
    else
        PROMPT_COMMAND="prompt_run_logic"
    fi
else
    echo "WARNUNG: prompt_run_logic nicht gefunden (prÃ¼fe ~/.bashprompt)" >&2
fi

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 5. XTerm-Fenstertitel (Linux-only Fallback)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
if [[ "$PLATFORM" == "linux" ]]; then
    case "$TERM" in
        xterm*|rxvt*)
            # Standard-Fallback, falls set_prompt() fehlschlÃ¤gt
            PS1="\[\e]0;\u@\h: \w\a\]$PS1"
            ;;
    esac
fi

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 6. Bash-Completion
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
if ! shopt -oq posix; then
    # Nur laden, wenn nicht bereits durch System-Skripte aktiv
    if [[ -z "$BASH_COMPLETION_VERSINFO" ]]; then
        for bc in /usr/share/bash-completion/bash_completion /etc/bash_completion; do
            if [[ -f "$bc" ]]; then
                # shellcheck disable=SC1091
                source "$bc"
                break
            fi
        done
    fi
fi

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 7. Git-Completion
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
for gitcompletion in \
    /usr/share/git/completion/git-completion.bash \
    /usr/share/bash-completion/completions/git \
    /etc/bash_completion.d/git
do
    if [[ -f "$gitcompletion" ]]; then
        # shellcheck disable=SC1090
        source "$gitcompletion"
        break
    fi
done


### END OF FILE: home\.bashrc

#################################################################
### BEGIN FILE: home\.dircolors
#################################################################

# FILE: home/.dircolors
# Minimal dircolors (usually generated by dircolors -p)
# Optimized for dark backgrounds

TERM xterm

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 1. Standardfarben fÃ¼r Dateitypen
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
NORMAL 00           # Standard (keine Farbe)
FILE 00             # Normale Datei
DIR 01;34           # Verzeichnis (Bold Blue)
LINK 01;36          # Symbolischer Link (Bold Cyan)
MULTIHARDLINK 00    # Mehrfach verlinkt
FIFO 40;33          # Named Pipe (FIFO, Yellow Background)
SOCK 01;35          # Socket (Bold Magenta)
DOOR 01;35          # Door (nur Solaris, Bold Magenta)
BLK 40;33;01        # Block-Spezialdatei (Yellow Background, Bold)
CHR 40;33;01        # Zeichen-Spezialdatei (Yellow Background, Bold)
ORPHAN 40;31;01     # Waisenlink / Broken Symlink (Red Background, Bold)
MISSING 00          # Fehlende Datei (verlinkt, aber nicht vorhanden)
EXEC 01;32          # AusfÃ¼hrbare Datei (Bold Green)

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 2. Dateiattribute & Permissions
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
SETUID 37;41                 # Setuid (White on Red, Sicherheitsrelevant)
SETGID 30;43                 # Setgid (Black on Yellow, Sicherheitsrelevant)
CAPABILITY 30;41             # Capabilities (Black on Red)
STICKY_OTHER_WRITABLE 30;42  # Sticky + world-writable (Black on Green)
OTHER_WRITABLE 34;42         # World-writable ohne Sticky (Blue on Green)
STICKY 37;44                 # Sticky Bit (White on Blue)

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 3. Archive & Komprimierte Dateien (Bold Red)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.tar       01;31
.tar.gz    01;31
.tgz       01;31
.tar.bz2   01;31
.tar.xz    01;31
.tar.zst   01;31
.arj       01;31
.taz       01;31
.lzh       01;31
.zip       01;31
.z         01;31
.Z         01;31
.gz        01;31
.bz2       01;31
.xz        01;31
.lzma      01;31
.zst       01;31
.7z        01;31
.rar       01;31
.rpm       01;31
.deb       01;31
.jar       01;31
.apk       01;31
.iso       01;31

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 4. Bilddateien (Bold Magenta)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.jpg       01;35
.jpeg      01;35
.png       01;35
.gif       01;35
.bmp       01;35
.tiff      01;35
.svg       01;35
.webp      01;35
.heic      01;35
.avif      01;35
.ico       01;35

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 5. Audio-Dateien (Bold Cyan)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.mp3       01;36
.ogg       01;36
.flac      01;36
.wav       01;36
.aac       01;36
.m4a       01;36
.opus      01;36
.wma       01;36

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 6. Video-Dateien (Bold Yellow)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.mp4       01;33
.mkv       01;33
.avi       01;33
.mov       01;33
.wmv       01;33
.webm      01;33
.m4v       01;33
.flv       01;33

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 7. Quellcode & Scripts (Bold Green / Source Specific)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.sh        01;32
.bash      01;32
.zsh       01;32
.fish      01;32
.c         01;32
.cpp       01;32
.h         01;32
.hpp       01;32
.php       01;32
.py        01;32
.pl        01;32
.rb        01;32
.js        01;32
.ts        01;32
.go        01;32
.rs        01;32
.cs        01;32
.java      01;32
.sql       01;32
.awk       01;32
.sed       01;32
# Build systems
Makefile   01;32
makefile   01;32
Justfile   01;32

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 8. Konfigurationsdateien (Yellow)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.yml       00;33
.yaml      00;33
.json      00;33
.toml      00;33
.ini       00;33
.conf      00;33
.cfg       00;33
.xml       00;33
.env       00;33
*rc        00;33
.gitignore 00;33
go.mod     00;33
go.sum     00;33
Cargo.toml 00;33
Cargo.lock 00;33

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 9. Dokumentation (White/Bright White)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
README     01;37
README.md  01;37
LICENSE    01;37
AUTHORS    01;37
.md        00;37
.rst       00;37
.txt       00;37
.pdf       00;37
.doc       00;37
.docx      00;37
.odt       00;37

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 10. Web-Dateien (Cyan)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.html      00;36
.htm       00;36
.css       00;36
.scss      00;36
.sass      00;36
.less      00;36

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 11. Container & DevOps (Blue)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Dockerfile         00;34
.dockerfile        00;34
.dockerignore      00;34
docker-compose.yml 00;34
.nix               00;34
.tf                00;34
.tfvars            00;34
Vagrantfile        00;34

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 12. Log-Dateien (Red)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.log       00;31
.err       00;31

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 13. Backup-Dateien (Dark Grey / Bold Black)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.bak       01;30
.old       01;30
.orig      01;30
.swp       01;30
*~         01;30

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 14. Windows-Executables (Bold Green)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.exe       01;32
.msi       01;32
.bat       01;32
.cmd       01;32
.ps1       01;32

### END OF FILE: home\.dircolors

#################################################################
### BEGIN FILE: home\.nanorc
#################################################################

# FILE: home/.nanorc

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 1. Editor-Verhalten
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
set autoindent          # Neue Zeile rÃ¼ckt automatisch ein
set tabsize 4           # Tabbreite auf 4 Leerzeichen (abgestimmt mit .editorconfig)
set tabstospaces        # Tabs in Leerzeichen wandeln (konsistent mit Projekt)
set softwrap            # Lange Zeilen optisch umbrechen (kein Hard-Wrap)
set atblanks            # Umbruch nur an Leerzeichen (nicht mitten im Wort)
set zap                 # Markierte Bereiche mit Backspace lÃ¶schen
set noconvert           # Keine Umwandlung aus DOS/Mac-Format (LF bleibt LF)
set jumpyscrolling      # Sanfteres Scrollen (halbbildschirmweise)
set magic               # ErmÃ¶glicht bessere Dateityp-Erkennung, wenn kein Header da ist
set locking             # Erstellt .swp Files (wie Vim), um gleichzeitiges Editieren zu verhindern

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 2. Anzeige & Interface
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
set linenumbers         # Zeilennummern anzeigen
set constantshow        # Cursorposition stÃ¤ndig anzeigen
set indicator           # Scrollbar anzeigen
set minibar             # NEU: Kompakte Statusleiste (spart Platz)
set stateflags          # NEU: Zeigt oben rechts an, ob Datei geÃ¤ndert (*)
set showcursor          # Cursor in Hilfe sichtbar

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 3. Suche & History
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
set historylog          # Suchhistorie speichern (~/.nano/search_history)
set positionlog         # Letzte Cursorposition merken (~/.nano/filepos_history)

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 4. Syntax-Highlighting
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# LÃ¤dt alle verfÃ¼gbaren Syntax-Definitionen (Bash, Python, C, Markdown, etc.)
include "/usr/share/nano/*.nanorc"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 5. Tastenkombinationen (Modern Style + Zap)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# HINWEIS: Erfordert 'stty -ixon' in der .bashrc fÃ¼r ^S/^Q

bind M-C copy main      # Alt+C: Kopieren
bind M-V paste all      # Alt+V: EinfÃ¼gen
bind ^F whereis all     # Ctrl+F: Suchen
bind ^H replace main    # Ctrl+H: Ersetzen
bind ^S savefile main   # Ctrl+S: Speichern
bind ^Q exit all        # Ctrl+Q: Beenden
bind ^Z undo main       # Ctrl+Z: RÃ¼ckgÃ¤ngig
bind ^Y redo main       # Ctrl+Y: Wiederholen

# BEST PRACTICE fÃ¼r ^D: 
# LÃ¶scht markierten Text oder das Zeichen unter dem Cursor, 
# OHNE das Clipboard zu Ã¼berschreiben.
bind ^D zap main

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 6. Navigation (Standard-Tasten, keine Custom-Bindings)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# HINWEIS: FÃ¼r Pfeiltasten wurden bewusst keine bind-Anweisungen gesetzt!
# Grund: In alten Nano-Versionen fÃ¼hrte dies zu unerwartetem Verhalten.
#
# Standard-Navigation (funktioniert ohne Custom-Bindings):
#   Wort vor:       Alt + Leertaste (oder Alt + Pfeil-Rechts)
#   Wort zurÃ¼ck:    Ctrl + Leertaste (oder Alt + Pfeil-Links)
#   Zeilenanfang:   Ctrl + A
#   Zeilenende:     Ctrl + E
#   Seite hoch:     Ctrl + Y (oder PageUp)
#   Seite runter:   Ctrl + V (oder PageDown)

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 7. Farbschema (Maximaler Kontrast fÃ¼r Lesbarkeit)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
set titlecolor black,cyan       # Titel-Zeile (oben)
set statuscolor black,cyan      # Status-Zeile (unten)
set keycolor white,blue         # Tastenkombinationen (Hilfe)
set numbercolor yellow,normal   # Zeilennummern (links)
set errorcolor white,red        # Fehlermeldungen
set selectedcolor black,white   # Markierter Text


### END OF FILE: home\.nanorc
